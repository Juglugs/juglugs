<?php // This file is protected by copyright law and provided under license. Reverse engineering of this file is strictly prohibited.




































































































$UUJIo90038438XTBlT=226674785;$zgmhA97207455nUPiT=294605561;$uHiMu50740960DlyEA=927939557;$UWqAI54609863ApMLJ=73646451;$DZmix82701605yQxOt=814001443;$ynvMF30448709LAMiU=441591742;$BmEFI56136265uUKPU=61977671;$KTCyI74842763lIbTb=593024844;$ScHXN60241547ibIKu=929430426;$lJrcb70805064fympL=693332555;$iabXW98008080uTeEF=185624038;$fFFoe39909848oPOGm=674482446;$woWkZ54289369WHYwg=628996561;$mJcfR31615750PGpRO=867191503;$ogNOb91555563izaSh=84294670;$iEBqx35954252hrEFK=58128645;$GqDsl61128338KRlyc=212750757;$TckGm91152846WSCrS=93875668;$mqwkm12497226AhvzZ=735894330;$vmFLf33864263MOBbB=798307399;$BjEpV61333939krgln=950943057;$YgxhN13286758ISjbo=526314231;$nmvYI73951014fliHD=936872968;$CaqOu98128038cjekS=427366494;$LapOR29593598fZeWA=769352417;$bnrMX42331928jcTdI=386135912;$tVOkm60881937Qiydv=1160746;$YQxir29849754KGMoB=111416219;$uYOGl19575227xkuJv=153801403;$XTiRC50023107oaaRm=459503857;$mukVm97285139lsQRB=616050344;$Lsjer85176117FUhdh=416418795;$aUEuJ86584640lOPMx=798570532;$fDqqO25917837cfSib=782821347;$gbGBT59507100bdDJV=410122036;$BDTnL46216615HTnKY=312493073;$Rkafp11409854iyylQ=462953775;$HkKeY22433247stTiA=564994773;$jShuV27526301nSnfY=166032735;$VMbOk31308089rUfql=39711129;$ifHGQ72017666JvpCA=802417236;$Ngpjw43321436wCbKZ=603412896;$fKYmV40571026yYDze=435562181;$QEnUv15458244nFdnt=432421497;$qxMGu69781383ymBMs=133018034;$DXifV41662977mWGxO=639681092;$fFPwp73075818bTFcd=379616350;$wdQnk35404441aQQTL=94287448;$gEfHU60544625PPXam=159459799;$PpfZY40596841OoAQq=667889923;?><?php class SiteCrawler { var $A76kndxSzOnikhY6uL0 = false; var $Jory6V07EvLOFuOS0 = array(); var $AcpzwbnlgjKcAF = array(); var $NdDirA6nDitD7 = array(); var $Y2JFas41Ha7Bh = false; var $JKKdudUKlq = false; var $lXZzreYj5Sp71N6a = array(); var $YCx6tRQ6S9VOxA8 = ''; var $HF09NtRGt5wcIet = ''; var $t71f_efSaAOndERJMx1 = ''; var $fp32WfdYeyzsL = ''; var $gkc6cuOs53JHjwRAY6 = ''; var $BQuugH4detSL1C = ''; var $xinVcH1Gf2 = ''; var $LGu93aFor = ''; var $xKSjC9fm7Ct = ''; var $CKkufD8Jt = ''; var $fdlKwoX4HgiIlRtTjC = 0; var $eWMxEMwbnUJuhi = false; var $H7dpHAe1ZxqW2d4_oS = false; var $ctime = 0; var $pl = 0; var $mu = 0; var $tsize = 0; var $links_level = 0; var $nettime = 0; var $ylHq2XW203CDYm1xpm = 0; var $fetch_no = 0; var $R6kB6cBogCUcR = 0; var $Oi9Zmgr2enoS8qf7N3x = 0; var $addedcnt = array(); var $Lr95wALjvGm = 0; var $mWZvXOgbL2muF5 = 0; var $wBD3MhpjtBO8tqmNhcW = 0; var $num_urls_processed_in_current_batch = 0; var $K9akDNrFty1 = 0; var $fb23nrOMWYh = array(); var $JcPjyNwPYF = array(); var $sm_base = array(); var $Qzca9KtuSuweE7eg = array(); var $UxoQSL7Suyq5hIutb = array(); var $VL35Keydv0RV = array(); var $urls_list_full = array(); var $urls_list_skipped = array(); var $lyHshYw4WEuS5UB = array(); var $VlATSmYmC7EQlOaRu = array(); var $XrYcC_5YQ_q1ne = array(); var $PcrmU5d0puI6Fy = array(); var $tVaBDPWljvwqY = array(); var $Af48Krgc4Y = array(); var $sm_sessions = array(); var $TKMlV28iMSJLJeW = array(); var $progpar = array(); var $bwFKDeaDhz = array(); var $IjB3lcClHx = array(); var $runstate = array(); var $ref_links_list = array(); var $Yqrb0MMKAex3GumRNM = array(); var $z9wRO_UXMNYH7e4OnAv = array(); var $crawl_stats = array(); var $UCZR3jLESp3_U = ''; var $VA1LHa1ylRh = false; var $uk1X1bxy5kVbdo19 = array( 1 => 'external', 2 => 'allowed-external', 3 => 'subdomain', 4 => 'out-folder', 5 => 'protocol', ); function sHrx8IoVOZ8R($BtAUqRxJJgysfr = '') { $this->m820vHOHqXjLbour0(array( 'current' => array( 'desc' => $BtAUqRxJJgysfr )), true); } function m820vHOHqXjLbour0($CwmC50c2bp_mhYr = false, $keFfkb0dtQHv_ = false) { global $RjqexZObIvyV, $grab_parameters, $kvzPJVC8WZaEAjzv2, $m8, $CxZcVCxpKFt94vFn; $C5ZtMujhwlQL=microtime(true); $this->ctime = $C5ZtMujhwlQL - $this->R6kB6cBogCUcR; $_ut = ($this->ctime - $RjqexZObIvyV > 3); $_pl = min($this->wBD3MhpjtBO8tqmNhcW - $this->num_urls_processed_in_current_batch, $this->DpaHtb34sk_OJJy1()); if( $_ut || $keFfkb0dtQHv_ || ( ( (($this->wBD3MhpjtBO8tqmNhcW==$this->num_urls_processed_in_current_batch) || ($_pl==0) || ($this->Lr95wALjvGm==1) || ($this->Lr95wALjvGm%$grab_parameters['xs_progupdate'])==0) || ($this->mWZvXOgbL2muF5>=$this->fdlKwoX4HgiIlRtTjC) ) && ($this->Lr95wALjvGm != $this->TKMlV28iMSJLJeW['num_urls_processed']) && !$CwmC50c2bp_mhYr ) ) { $this->TKMlV28iMSJLJeW['num_urls_processed'] = $this->Lr95wALjvGm; $RjqexZObIvyV = $this->ctime; $this->mu = function_exists('memory_get_usage') ? memory_get_usage() : '-'; $kvzPJVC8WZaEAjzv2 = max($kvzPJVC8WZaEAjzv2, $this->mu); $this->addedcnt['topmu'] = $kvzPJVC8WZaEAjzv2; $this->addedcnt['mu'] = $this->mu; if($this->mu>$m8+1000000){ $m8 = $this->mu; $cc = ' style="color:red"'; }else $cc=''; if(intval($this->mu)) $this->mu = number_format($this->mu/1024,1).' Kb'; Gpa9Bjai2UMV7SSv("\n(<span".$cc.">memory".($cc?' up':'').": $this->mu</span>)<br>\n"); $this->progpar = array( $this->ctime, // 0. running time 
																													 preg_replace("#[^a-z\d\$\-\_\.\+\!\*\|\'\(\)\,\;\/\?\:\@\=\&\#\%]#i", "",str_replace($this->CKkufD8Jt, '', $this->gkc6cuOs53JHjwRAY6)),  // 1. current URL 
																													 $_pl,                    // 2. urls left 
																													 $this->Lr95wALjvGm,                    // 3. processed urls 
																													 $this->tsize,                 // 4. bandwidth usage 
																													 $this->links_level,           // 5. depth level 
																													 $this->mu,                    // 6. memory usage 
																													 $this->mWZvXOgbL2muF5, // 7. added in sitemap 
																													 $this->K9akDNrFty1,     // 8. in the queue 
																													 $this->nettime, // 9. network time 
																													 $this->ylHq2XW203CDYm1xpm, // 10. last net time 
																													 $this->fetch_no, // 11. fetched urls 
																													 $this->addedcnt, // 12. number of added images/videos/etc 
																													 ); $this->progpar['crawl_stats'] = $this->crawl_stats; $mOC8_YGdjCggE = array('num_urls_current_batch', 'num_urls_next_batch', 'num_urls_processed_in_current_batch', 'num_urls_processed', 'tsize', 'num_urls_completed', 'nettime', 'fetch_no', 'addedcnt'); $NJwgJdiQXqV = []; foreach($mOC8_YGdjCggE as $_ak) $NJwgJdiQXqV[$_ak] = $this->$_ak; $NJwgJdiQXqV['instance_id'] = $grab_parameters['xs_instance_id']; $NJwgJdiQXqV['sesstime'] = (microtime(true)-$this->Oi9Zmgr2enoS8qf7N3x); $this->progpar['adet'] = $NJwgJdiQXqV; if(((time()-$CxZcVCxpKFt94vFn)>uYtRST7eOVyiC('xs_state_interval',5)) || $keFfkb0dtQHv_) { if(!$this->fetch_no|| $this->UCZR3jLESp3_U) { $CxZcVCxpKFt94vFn = time(); $this->progpar['perf'] = EmYGhMsQNtkUAjX(); $this->progpar['robotstxt'] = $this->bwFKDeaDhz; $this->progpar['interrupt'] = array($this->UCZR3jLESp3_U, $this->VA1LHa1ylRh); if($CwmC50c2bp_mhYr) $this->progpar['state2'] = $CwmC50c2bp_mhYr; if($this->sm_sessions) { end($this->sm_sessions); $ApTALZMFA6Y = key($this->sm_sessions); $_save_progpar = $this->progpar; unset($_save_progpar['crawl_stats']); if(!$this->sm_sessions[$ApTALZMFA6Y]['progress_start']){ $this->sm_sessions[$ApTALZMFA6Y]['progress_start'] = $_save_progpar; } $this->sm_sessions[$ApTALZMFA6Y]['progress_end'] = $_save_progpar; } } } if($this->NdDirA6nDitD7['bgexec']) { o_V2IjGO4FbBy(rwrAhkTe5AehA,LvwoBy4yxyXbghxY($this->progpar)); } if($this->A76kndxSzOnikhY6uL0 && (!$this->AcpzwbnlgjKcAF['f'] || $_ut)) { call_user_func($this->A76kndxSzOnikhY6uL0,$this->progpar); } } else { call_user_func($this->A76kndxSzOnikhY6uL0,array('cmd'=>'ping', 'bg' => $this->NdDirA6nDitD7['bgexec'])); } return $this->progpar; } function xS8BuXe3J4Ky($sk, $sv){ if($this->sm_sessions) { end($this->sm_sessions); $ApTALZMFA6Y = key($this->sm_sessions); $this->sm_sessions[$ApTALZMFA6Y][$sk] = $sv; } } function DpaHtb34sk_OJJy1() { return $this->fdlKwoX4HgiIlRtTjC - $this->mWZvXOgbL2muF5; } function jMxbITiXlO5nmhmw() { return (uYtRST7eOVyiC('xs_use_botapi', false) && uYtRST7eOVyiC('xs_botapi_url', false)); } function d4BTaRkTYe() { return uYtRST7eOVyiC('xs_http_parallel', false) || $this->jMxbITiXlO5nmhmw(); } function NrcHJzHWg8nzjl() { $TYHRDZiWCRbVqzBb6 = @ZemEb1wrkmtr2t(ouNNfKx_I37NGU4TZMQ(ee6DE3zheBrz3N . WM4in_T2Mrf, true)); $this->fb23nrOMWYh = $TYHRDZiWCRbVqzBb6 ? $TYHRDZiWCRbVqzBb6['full_uc'] : array(); unset($TYHRDZiWCRbVqzBb6); } function xCJ_hP2MEGiRg1p($kSqwvuezP1mlGp){ return preg_replace('#^(www|\w)\.#', '', $kSqwvuezP1mlGp); } function LyP4eUwdHgspaDQQTu3($mcGAs25_n6HbUaxC) { if(preg_match('#^(.*?\://[^/]*)#', $mcGAs25_n6HbUaxC, $PFNUoOXwbxCP7KUnyH3)) 
																													 return strtolower($PFNUoOXwbxCP7KUnyH3[1]) .  substr($mcGAs25_n6HbUaxC, strlen($PFNUoOXwbxCP7KUnyH3[1])); else return $mcGAs25_n6HbUaxC; } function FH24Z1Zzh6KfPVW($mcGAs25_n6HbUaxC) { return preg_replace('#^[^\:]*?'.preg_quote($this->LGu93aFor,'#').'#','',$mcGAs25_n6HbUaxC); } function i4YBy_a0gx(&$a, $uz6X3zpm8hlh2WQXV = '', $z75RNTQhaBrvV7PL = '') { $BQuugH4detSL1C = $this->BQuugH4detSL1C; $xinVcH1Gf2 = $this->xinVcH1Gf2; $q5mXhT0VAQKh0u = $fPVEQnb01JHiHneh = 0; $m1hTvf9w9C0ezfTIB = ''; if(!$uz6X3zpm8hlh2WQXV) $uz6X3zpm8hlh2WQXV = $this->gkc6cuOs53JHjwRAY6; $a1 = $a; $_isspec = strstr($a, '?#?'); $a = str_replace( array('&trade;','&#38;','&#038;','&amp;','&#39;','&#x3a;','&#x3A;','&#x2f;', '&#x2F;','&#x2e;', '&#x2E;'), array('%E2%84%A2', '&', '&', '&', '\'',':', ':', '/', '/','.','.') ,$a); if(strstr($uz6X3zpm8hlh2WQXV,'://')) { 
																													 $BQuugH4detSL1C = preg_replace('#(:\/\/.*?)\/.*$#', '$01', $xinVcH1Gf2); } $SFTPXn2mlr = parse_url($this->LGu93aFor); if($SFTPXn2mlr['scheme'] && substr($a, 0, 2) == '//') 
																													 $a = $SFTPXn2mlr['scheme'].':'.$a; $lG06mF_TrHl0vIUHJ = @parse_url($a); $_scheme = strtolower($lG06mF_TrHl0vIUHJ['scheme']); if($_isspec) { }else if($_scheme && ($_scheme!='http')&& ($_scheme!='https')) { $q5mXhT0VAQKh0u = $fPVEQnb01JHiHneh = 105; // do not list 
																													 $m1hTvf9w9C0ezfTIB = $_scheme; }else { $a = str_replace(':80/', '/', $a); $a = str_replace(':443/', '/', $a); if($a[0]=='?')$a = preg_replace('#^([^\?]*?)([^/\?]*?)(\?.*)?$#','$2',$uz6X3zpm8hlh2WQXV).$a; if(uYtRST7eOVyiC('xs_inc_ajax') && strstr($a,'#!')){ $xinVcH1Gf2 = preg_replace('#\#.*$#', '', $xinVcH1Gf2); if($a[0] != '/' && !strstr($a,':/')) $a = $xinVcH1Gf2 . preg_replace('#^([^\#]*?/)?([^/\#]*)?(\#.*)?$#', '$2', $uz6X3zpm8hlh2WQXV).$a; } if(preg_match('#^https?(:|&\#58;)#is',$a)){ if(preg_match('#://[^/]*$#is',$a)) 
																													 $a .= '/'; $a = preg_replace('#(://[^/]*/)/#is','$01',$a); 
																													 } else if($a&& $a[0]=='/')$a = $BQuugH4detSL1C.$a; else $a = $xinVcH1Gf2.$a; if($a[0]=='/')$a = $BQuugH4detSL1C.$a; $a=str_replace('/./','/',$a); $a=preg_replace('#/\.$#','/',$a); if(substr($a,-2) == '..')$a.='/'; if(strstr($a,'../')){ preg_match('#(.*?:.*?//.*?)(/.*)$#',$a,$aa); 
																													 do{ $ap = $aa[2]; $aa[2] = preg_replace('#/?[^/]*/\.\.#','',$ap,1); }while($aa[2]!=$ap); $a = $aa[1].$aa[2]; } $a = preg_replace('#/\./#','/',$a); if(!uYtRST7eOVyiC('xs_url_anchor_allow')) { if(($_a2 = preg_replace('#([^&])\#'. (uYtRST7eOVyiC('xs_inc_ajax') ? '([^\!]|$)':'').'.*$#','$01',$a)) != $a){ $a = $_a2; } } $a = preg_replace('#^(/)/+#','\\1',$a); $a = preg_replace('#[\r\n]+#s','',$a); if($_cuopt = uYtRST7eOVyiC('xs_cleanurls')) $a = @preg_replace($_cuopt,'',$a); if(uYtRST7eOVyiC('xs_lowercase_urls')) $a = strtolower($a); if(uYtRST7eOVyiC('xs_entitydecode_urls')){ $_ap = explode('?', $a, 2); $_ap[0] = html_entity_decode($_ap[0]); $a = $_ap[0] . ((count($_ap)>1) ? '?'.$_ap[1]:''); } $a = $this->ButLvR74PkmjEjSm7($a, 'xs_custom_replace'); if($_cleanpar = uYtRST7eOVyiC('xs_cleanpar')) { do { $PUfqY5EHTikjIbdAGy = $a; $a = @preg_replace('#[\\?\\&]('.$_cleanpar.')=[a-z0-9\%\-\+\.\_\=\/\,\*]*$#i','',$a); $a = @preg_replace('#([\\?\\&])('.$_cleanpar.')=[a-z0-9\%\-\+\.\_\=\/\,\*]*&#i','$1',$a); }while($a != $PUfqY5EHTikjIbdAGy); $a = @preg_replace('#\?\&?$#','',$a); } $lG06mF_TrHl0vIUHJ = @parse_url($a); $CMnQwMzPTLExm4u = (strcasecmp($SFTPXn2mlr['host'],$lG06mF_TrHl0vIUHJ['host'])==0); $x7f6drRDJ2SpQKDtYFR = (strcasecmp ($SFTPXn2mlr['scheme'],$lG06mF_TrHl0vIUHJ['scheme'])==0); $_low_initdir = strtolower(preg_replace('#^.*?://#','',$this->LGu93aFor)); 
																													 $_low_a = strtolower(preg_replace('#^.*?://#','',$a)); 
																													 $_low_a_init = substr($_low_a, 0 , strlen($_low_initdir)); $q5mXhT0VAQKh0u = ($_low_a_init != $_low_initdir) ? 1 : 0; if(!$q5mXhT0VAQKh0u && !$x7f6drRDJ2SpQKDtYFR){ $fPVEQnb01JHiHneh = 5; // cross-scheme 
																													 $q5mXhT0VAQKh0u = uYtRST7eOVyiC('xs_allow_extscheme') ? 0 : $fPVEQnb01JHiHneh; $m1hTvf9w9C0ezfTIB = $lG06mF_TrHl0vIUHJ['scheme']; } if($q5mXhT0VAQKh0u ==1 ) { if($CMnQwMzPTLExm4u) { $fPVEQnb01JHiHneh = 4; $q5mXhT0VAQKh0u = uYtRST7eOVyiC('xs_allow_subdomains') ? 0 : $fPVEQnb01JHiHneh; // out folder 
																													 }else if($lG06mF_TrHl0vIUHJ['host'] && preg_match('#^(.*?\.)?'.preg_quote($this->xCJ_hP2MEGiRg1p($SFTPXn2mlr['host']),'#').'$#', $lG06mF_TrHl0vIUHJ['host']) ){ $fPVEQnb01JHiHneh = 3; $q5mXhT0VAQKh0u = uYtRST7eOVyiC('xs_allow_subdomains') ? 0 : $fPVEQnb01JHiHneh; // subdomain 
																													 $m1hTvf9w9C0ezfTIB = $lG06mF_TrHl0vIUHJ['host']; } } if($q5mXhT0VAQKh0u && $z75RNTQhaBrvV7PL) { $BMwpX3TF8mcFjZI = $this->NFaNrp_DNnniC($z75RNTQhaBrvV7PL); if($BMwpX3TF8mcFjZI && preg_match('#('.$BMwpX3TF8mcFjZI.')#', $a)){ $fPVEQnb01JHiHneh = 2; $q5mXhT0VAQKh0u = 0; } } } Gpa9Bjai2UMV7SSv("<br/>($a -- [$a1] -- (isext) $q5mXhT0VAQKh0u - (initdir) ".$this->LGu93aFor." (iurl) $uz6X3zpm8hlh2WQXV - (top) $BQuugH4detSL1C - (ibase) $xinVcH1Gf2 - (tophosts) [".$this->xCJ_hP2MEGiRg1p($SFTPXn2mlr['host']).", ".$lG06mF_TrHl0vIUHJ['host']."])<br>\n",3); return ['isext' => $q5mXhT0VAQKh0u, 'extrs' => $m1hTvf9w9C0ezfTIB, 'extloc' => $fPVEQnb01JHiHneh]; } function N3S6KHWOVBv2qC21A($uz6X3zpm8hlh2WQXV){ return strstr($uz6X3zpm8hlh2WQXV,'://') ? $uz6X3zpm8hlh2WQXV : $this->LGu93aFor . $uz6X3zpm8hlh2WQXV; 
																													 } function V6HY35ZYT9y0() { if(uYtRST7eOVyiC('xs_prev_sm_base')){ if($this->basecachemask) foreach($this->fb23nrOMWYh as $y2n1QmO6Xt6vnu){ $riHsxx1tgqk4ZFis1Nx = $this->ciIQeHn6AdUnx6c($y2n1QmO6Xt6vnu); $ClMlrwqX1fMxag7Nf1 = $this->FH24Z1Zzh6KfPVW($riHsxx1tgqk4ZFis1Nx['link']); if(preg_match('#('.$this->basecachemask.')#',$ClMlrwqX1fMxag7Nf1)) if(!isset($this->sm_base[$ClMlrwqX1fMxag7Nf1])) { $this->sm_base[$ClMlrwqX1fMxag7Nf1] = $riHsxx1tgqk4ZFis1Nx; } } } } function IP4d0d2Y2() { $this->sm_base = array(); $this->Qzca9KtuSuweE7eg = array(); $this->H7tBTJDfOm(); } function JROAIWIPYIbpau2AEk() { return uYtRST7eOVyiC('xs_prev_sm_base_redir')||uYtRST7eOVyiC('xs_prev_sm_base_canonical'); } function H7tBTJDfOm() { if(uYtRST7eOVyiC('xs_prev_sm_base')){ o_V2IjGO4FbBy('sm_base.db', oC07_mfUHXcgg1c(array( '_smbase'=>$this->sm_base, '_redirbase2'=> $this->JROAIWIPYIbpau2AEk() ? $this->Qzca9KtuSuweE7eg : array() ) ), ee6DE3zheBrz3N, true); } } function j5E3rAO3w97fG2e($auDhSkKckYTv2) { if(uYtRST7eOVyiC('xs_prev_sm_base')){ Gpa9Bjai2UMV7SSv("\nRestoring sm_base\n"); $this->Qzca9KtuSuweE7eg = array(); if($nZC6E0QSL = @ouNNfKx_I37NGU4TZMQ(ee6DE3zheBrz3N.'sm_base.db',true)){ Gpa9Bjai2UMV7SSv("\nUnpacked sm_base size: ".number_format(strlen($nZC6E0QSL))."\n"); $nZC6E0QSL = ZemEb1wrkmtr2t($nZC6E0QSL); if(isset($nZC6E0QSL['_smbase'])){ if($this->JROAIWIPYIbpau2AEk()) $this->Qzca9KtuSuweE7eg = $nZC6E0QSL['_redirbase2']; $nZC6E0QSL = $nZC6E0QSL['_smbase']; } Gpa9Bjai2UMV7SSv("\nFound URLs in sm_base: ".number_format(count($nZC6E0QSL))."\n"); $this->sm_base = array(); if($nZC6E0QSL) { if($this->basecachemask) foreach($nZC6E0QSL as $_k=>$_v){ $ClMlrwqX1fMxag7Nf1 = $this->FH24Z1Zzh6KfPVW($_k); $_xlc = $this->i4YBy_a0gx($_k, $this->LGu93aFor); $q5mXhT0VAQKh0u = $_xlc['isext']; if($q5mXhT0VAQKh0u != 1) if(preg_match('#('.$this->basecachemask.')#',$ClMlrwqX1fMxag7Nf1)) { $this->sm_base[$ClMlrwqX1fMxag7Nf1] = $_v; } } } unset($nZC6E0QSL); Gpa9Bjai2UMV7SSv("\nFiltered after cache mask: ".number_format(count($this->sm_base))."\n"); if($this->JROAIWIPYIbpau2AEk() && $this->Qzca9KtuSuweE7eg) { Gpa9Bjai2UMV7SSv("\nRestored redirect statuses: ".number_format(count($this->Qzca9KtuSuweE7eg))."\n"); } if($auDhSkKckYTv2){ } } } } function Z1JhlPcblVrJXSoF($_iurl) { $this->CKkufD8Jt = $_iurl; $RUB0u6qo7Xy = parse_url($this->CKkufD8Jt); if(!$RUB0u6qo7Xy['path']){ $this->CKkufD8Jt .='/'; $RUB0u6qo7Xy = parse_url($this->CKkufD8Jt); } $this->initurl_ipa = $RUB0u6qo7Xy; $this->BQuugH4detSL1C = $RUB0u6qo7Xy['scheme'].'://'.$RUB0u6qo7Xy['host'].((!$RUB0u6qo7Xy['port'] || ($RUB0u6qo7Xy['port']=='80'))?'':(':'.$RUB0u6qo7Xy['port'])); 
																													 $this->LGu93aFor = cGfjZGtuKd($this->BQuugH4detSL1C.'/', i5zFGwkKH68ByVijWMt($RUB0u6qo7Xy['path'])); $this->xKSjC9fm7Ct = preg_replace('#^.+://[^/]+#', '', $this->LGu93aFor); 
																													 } function l39B5BzXe($bm = false){ if($bm && isset($bm[1])&& $bm[1]&&($bm[1][0]!='.')){ $this->i4YBy_a0gx($bm[1]); $this->xinVcH1Gf2 = i5zFGwkKH68ByVijWMt($bm[1]); } else{ $this->xinVcH1Gf2 = i5zFGwkKH68ByVijWMt(strstr($this->gkc6cuOs53JHjwRAY6,'://') ? $this->gkc6cuOs53JHjwRAY6 : $this->LGu93aFor . $this->gkc6cuOs53JHjwRAY6); 
																													 } } function UUpjvRgAPDq($ZR9ARCxDNGt){ return strstr($ZR9ARCxDNGt,'text/html') || strstr($ZR9ARCxDNGt,'text/xml') || strstr($ZR9ARCxDNGt,'/xhtml'); } function tT61a48BW($nm, $cn){ preg_match('#<input[^>]*name="'.$nm.'"[^>]*value="(.*?)"#is', $cn, $_inpm); return $_inpm[1]; } function CSpNpJnuLM($cn, $dp){ global $Rgqo7Yox5Mydire; $Os0X_tRh9d9UY = array(); Gpa9Bjai2UMV7SSv("\n*** Parse JS - ".$this->gkc6cuOs53JHjwRAY6.", ($dp)\n", 2); if(strstr($cn, '__VIEWSTATE')){ $pPJN9h98LI9aGB = rand(1E5,1E6); preg_match_all('#<form[^>]*action="([^>]*?)".*?</form>#is', $cn, $_vsm); foreach($_vsm[0] as $i=>$_vm) { if(!preg_match('#<input[^>]*?"__VIEWSTATE"#is', $_vm)) continue; // cont FOREACH 
																													 $_action = $_vsm[1][$i]; $_xlc = $this->i4YBy_a0gx($_action); $q5mXhT0VAQKh0u = $_xlc['isext']; if($q5mXhT0VAQKh0u == 1) continue; // cont FOREACH 
																													 $_intfex = $this->llrdonYEt($_action); if($_intfex['f'])continue; // cont FOREACH 
																													 $g91Epsb72zOnlTw = array('__VIEWSTATE','__VIEWSTATEGENERATOR','__EVENTVALIDATION'); $n_uJWVN6KNePyws = array(); foreach($g91Epsb72zOnlTw as $p) $n_uJWVN6KNePyws[$p] = $this->tT61a48BW($p, $_vm); preg_match_all('#<input[^>]*type="hidden"[^>]*name="([^>]*?)"[^>]*value="([^>]*?)"#is', $_vm, $_vpar); foreach($_vpar[0] as $_vpi=>$_vpv) { if(!$n_uJWVN6KNePyws[$_vpar[1][$_vpi]]) $n_uJWVN6KNePyws[$_vpar[1][$_vpi]] = $_vpar[2][$_vpi]; } preg_match_all('#__doPostBack(\(.*?\))#is', $_vm, $_dpball); $N2j87PtJxbFVa80x2Vj = array(); foreach($_dpball[1] as $_dpb) { $_dpb = stripslashes(str_replace('&#39;',"'",$_dpb)); if(preg_match('#\'(.*?)\'(?:\s*\,\'(.*?)\')?#', $_dpb, $_a)){ if(!$this->vH5384QiQe6('xs_parse_js_only_act', $_a[1], true)) continue; // cont FOREACH 
																													 if(!$this->vH5384QiQe6('xs_parse_js_only_act2', $_a[1].$_a[2], true)) continue; // cont FOREACH 
																													 $WbtyhoCZvWOZq = $_action .' -> '. $_a[1]. '/'. $_a[2]; if($RHg3WtpIcHy4TWXO = uYtRST7eOVyiC('xs_parse_js_allowdup',false)){ if(preg_match('#'.$RHg3WtpIcHy4TWXO.'#',$_a[1].$_a[2])) $WbtyhoCZvWOZq = $this->gkc6cuOs53JHjwRAY6.'/'.$pPJN9h98LI9aGB.' -> '.$WbtyhoCZvWOZq; } if($this->IjB3lcClHx[$WbtyhoCZvWOZq]++) continue; // cont FOREACH 
																													 $_intfex = $this->llrdonYEt($_a[1]); if(!$_intfex['f'] ) $N2j87PtJxbFVa80x2Vj[] = array($_a,$WbtyhoCZvWOZq); } } foreach($N2j87PtJxbFVa80x2Vj as $jp){ $_a = $jp[0]; $WbtyhoCZvWOZq = $jp[1]; $NdDirA6nDitD7 = $n_uJWVN6KNePyws; $NdDirA6nDitD7['__EVENTTARGET'] = $_a[1]; $NdDirA6nDitD7['__EVENTARGUMENT'] = $_a[2]; $ua9tyorFugytr = $Rgqo7Yox5Mydire->fetch($_action, 0, false, false, http_build_query($NdDirA6nDitD7,'','&'), array( 'contenttype'=>'application/x-www-form-urlencoded', 'addheaders' => 'X-MicrosoftAjax: Delta=true'."\r\n" )); $this->m820vHOHqXjLbour0(); Gpa9Bjai2UMV7SSv("\n(js post $dp) $WbtyhoCZvWOZq\nlasturl - ".$ua9tyorFugytr['last_url'] ); if(($_action != $ua9tyorFugytr['last_url'])){ $Os0X_tRh9d9UY[] = $ua9tyorFugytr['last_url']; }else { $Os0X_tRh9d9UY = array_merge($Os0X_tRh9d9UY, $this->TAe0ymt1nLhsGSn($ua9tyorFugytr['content'], $dp+1)); } Gpa9Bjai2UMV7SSv("\n>> llist ".count($Os0X_tRh9d9UY).", ".$Os0X_tRh9d9UY[0]."\n"); } } } return $Os0X_tRh9d9UY; } function TAe0ymt1nLhsGSn(&$cn, $dp = 0, $z0IqdZ9OQ3 = 0){ global $Rgqo7Yox5Mydire; if(!$z0IqdZ9OQ3) $z0IqdZ9OQ3= uYtRST7eOVyiC('xs_parsehtml_maxdepth',5); Gpa9Bjai2UMV7SSv("\n* Parse HTML - ".$this->gkc6cuOs53JHjwRAY6.", ($dp/$z0IqdZ9OQ3) [".strlen($cn)."]\n", 2); if($dp > $z0IqdZ9OQ3)return array(); if(substr($cn,0,3)=='?#?'){ $Os0X_tRh9d9UY = explode("\n", substr($cn,3)); }else { if(uYtRST7eOVyiC('xs_parsehtml_datasrc',false)) if(preg_match_all('#<(?:div|span)\s[^>]*?(?:data-|\s)src\s*=\s*["\']([^>]*?)("|\')#is', $cn, $we9p2EffS6a0mYNW_)) { foreach($we9p2EffS6a0mYNW_[1] as $i=>$xW6pTiVY46) { $_xlc = $this->i4YBy_a0gx($xW6pTiVY46); $q5mXhT0VAQKh0u = $_xlc['isext']; if($q5mXhT0VAQKh0u == 1) continue; // cont FOREACH 
																													 $_intfex = $this->llrdonYEt($xW6pTiVY46); if($_intfex['f'])continue; // cont FOREACH 
																													 if($_intfex['f3'])continue; // cont FOREACH 
																													 $OT1PD8qzBuG = $Rgqo7Yox5Mydire->fetch($xW6pTiVY46, 0, false, false); if($this->UUpjvRgAPDq($OT1PD8qzBuG['headers']['content-type'])){ $r40Mq9zwC6r03wWkt_S = $we9p2EffS6a0mYNW_[0][$i]; $id5xjRx1n = strpos($cn, $r40Mq9zwC6r03wWkt_S); if ($id5xjRx1n !== false) { $cn = substr_replace($cn, $OT1PD8qzBuG['content'], $id5xjRx1n, strlen($r40Mq9zwC6r03wWkt_S)); } } } } $vVF5pu7von7tKfuZ1O = uYtRST7eOVyiC('xs_utf8_enc') ? 'isu':'is'; $_t = 'a|area|go'; if(!uYtRST7eOVyiC('xs_disable_linktag', false)) $_t .= '|link'; if($_mlt = uYtRST7eOVyiC('xs_more_linktag')) $_t .= '|'.$_mlt; preg_match_all('#<(?:'.$_t.')([^>]*?\b)href\s*=\s*(?:\\\\?"([^"]*)|\'([^\']*)|([^\s\"\\\\>]+))[^>]*>#is'.$vVF5pu7von7tKfuZ1O, $cn, $am); preg_match_all('#<option(?:[^>]*?)?value\s*=\s*"(http[^"]*)#is'.$vVF5pu7von7tKfuZ1O, $cn, $ahXRwfst9NINY9f); $_sc = '(?:i?frame)'; preg_match_all('#<'.$_sc.'\s(?:[^>]*?\s)src\s*=\s*["\']?(.*?)("|>|\')#is', $cn, $Broh86XfLy0PO60Vd); preg_match_all('#<meta\s[^>]*http-equiv\s*=\s*"?refresh[^>]*URL\s*=\s*["\']?(.*?)("|>|\'[>\s])#'.$vVF5pu7von7tKfuZ1O, $cn, $vm2ZWXPDO); if(uYtRST7eOVyiC('xs_parse_swf')) preg_match_all('#<object[^>]*application/x-shockwave-flash[^>]*data\s*=\s*["\']([^"\'>]+).*?>#'.$vVF5pu7von7tKfuZ1O, $cn, $B_gTARpTkIxhz);
																													
																													else $B_gTARpTkIxhz = array(array(),array());
																													
																													
																													preg_match_all('#<a[^>]*?onclick\s*=\s*"[^"]*\.load\(\'([^\']*)#'.$vVF5pu7von7tKfuZ1O, $cn, $CuVVVML5Tg6tBg);
																													
																													
																													preg_match_all('#"url"\:"(http[^"]*)#is'.$vVF5pu7von7tKfuZ1O, $cn, $IWShpEjHh0j);
																													
																													$Os0X_tRh9d9UY = array();
																													
																													$UGZixPNL2kGsH0Gsb = 'stylesheet|publisher|shortlink';
																													
																													if(uYtRST7eOVyiC('xs_robotstxt'))
																													
																													$UGZixPNL2kGsH0Gsb .= '|nofollow';
																													
																													if(uYtRST7eOVyiC('xs_skipmeta_next',false))
																													
																													$UGZixPNL2kGsH0Gsb .= '|next|prev';
																													
																													if(!uYtRST7eOVyiC('xs_canonical',true))
																													
																													$UGZixPNL2kGsH0Gsb .= '|canonical';
																													
																													
																													$_imind = 2;
																													
																													foreach($am[0] as $i=>$_am0)
																													
																													if(!preg_match('#rel\s*=\s*["\']?\s*('.$UGZixPNL2kGsH0Gsb.')#i', $_am0))
																													
																													{
																													
																													$_prehref = $am[1][$i];
																													
																													if(!$_prehref || ($_prehref[strlen($_prehref)-1]!=':') )
																													
																													
																													for($_j = 0; $_j<=2;$_j++)
																													
																													{
																													
																													if($__a = $am[$_imind + $_j][$i]){
																													
																													$__a = str_replace('”', '', $__a);
																													
																													if($__a[strlen($__a)-1] == '\\')
																													
																													$__a = stripslashes($__a);
																													
																													$Os0X_tRh9d9UY[] = $__a;
																													
																													}
																													
																													}
																													
																													}
																													
																													$Os0X_tRh9d9UY = @array_merge(
																													
																													$Os0X_tRh9d9UY,
																													
																													
																													
																													$Broh86XfLy0PO60Vd[1],$vm2ZWXPDO[1],
																													
																													$ahXRwfst9NINY9f[1],$CuVVVML5Tg6tBg[1],
																													
																													$IWShpEjHh0j[1],
																													
																													$B_gTARpTkIxhz[1]);
																													
																													if($dp < $z0IqdZ9OQ3)
																													
																													if(uYtRST7eOVyiC('xs_parse_js') &&
																													
																													$this->vH5384QiQe6('xs_parse_js_only', $this->gkc6cuOs53JHjwRAY6, true)
																													
																													){
																													
																													$ipMZvgTUbT = $this->CSpNpJnuLM($cn, $dp);
																													
																													$Os0X_tRh9d9UY = @array_merge($Os0X_tRh9d9UY, $ipMZvgTUbT);
																													
																													}
																													
																													}
																													
																													Gpa9Bjai2UMV7SSv("\n* Parsed [".count($Os0X_tRh9d9UY)."] URLs\n", 2);
																													
																													
																													return $Os0X_tRh9d9UY;
																													
																													}
																													
																													function U3q19rVU7EOiLZPySDT($PwtFy91kNSr82uSe){
																													
																													$XO0iq7C5M = array();
																													
																													if(preg_match('#(?:\[(\d+)\.\.(\d+)(?:\.\.(\d+))?\])#', $PwtFy91kNSr82uSe, $_mexpand)){
																													
																													$_mustep = max(1, intval($_mexpand[3]));
																													
																													for($i=0;($i<500000)&&($i*$_mustep+$_mexpand[1]<=$_mexpand[2]);$i++)
																													
																													$XO0iq7C5M[] = str_replace($_mexpand[0], $i*$_mustep+$_mexpand[1], $PwtFy91kNSr82uSe);
																													
																													}else
																													
																													$XO0iq7C5M = array($PwtFy91kNSr82uSe);
																													
																													return $XO0iq7C5M;
																													
																													}
																													
																													function vH5384QiQe6($HXEwbFL75Hm8NCOsPR, $uz6X3zpm8hlh2WQXV, $G8ITLAu2O2 = true){
																													
																													global $EgPEgwYikIdKy;
																													
																													$yz9iRuESaitPEgYSsu = $G8ITLAu2O2;
																													
																													if(uYtRST7eOVyiC($HXEwbFL75Hm8NCOsPR)){
																													
																													if(!isset($EgPEgwYikIdKy[$HXEwbFL75Hm8NCOsPR])){
																													
																													$EgPEgwYikIdKy[$HXEwbFL75Hm8NCOsPR] = uYtRST7eOVyiC($HXEwbFL75Hm8NCOsPR);
																													
																													if(!preg_match('#[\*\$]#',$EgPEgwYikIdKy[$HXEwbFL75Hm8NCOsPR]))
																													
																													$EgPEgwYikIdKy[$HXEwbFL75Hm8NCOsPR] = preg_quote($EgPEgwYikIdKy[$HXEwbFL75Hm8NCOsPR],'#');
																													
																													$EgPEgwYikIdKy[$HXEwbFL75Hm8NCOsPR] = '#'.str_replace(' ', '|', $EgPEgwYikIdKy[$HXEwbFL75Hm8NCOsPR]).'#';
																													
																													}
																													
																													$yz9iRuESaitPEgYSsu = preg_match($EgPEgwYikIdKy[$HXEwbFL75Hm8NCOsPR],$uz6X3zpm8hlh2WQXV);
																													
																													}
																													
																													return $yz9iRuESaitPEgYSsu;
																													
																													}
																													
																													function U9E6sLwDkXCLtybu($sUawjJKBeG61UEDpO, $Wlp5TPASuidvTEC25u) {
																													
																													$BHYUWeJbvD = $this->$sUawjJKBeG61UEDpO;
																													
																													if($BHYUWeJbvD){
																													
																													if(!is_array($BHYUWeJbvD)){
																													
																													preg_match('#('.$BHYUWeJbvD.')#', $Wlp5TPASuidvTEC25u, $sm);
																													
																													return $sm;
																													
																													}
																													
																													foreach($BHYUWeJbvD as $_pt){
																													
																													if(preg_match('#('.$_pt.')#', $Wlp5TPASuidvTEC25u, $sm))
																													
																													return $sm;
																													
																													}
																													
																													}
																													
																													return false;
																													
																													}
																													
																													function NFaNrp_DNnniC($Wlp5TPASuidvTEC25u) {
																													
																													if(!isset($this->Jory6V07EvLOFuOS0[$Wlp5TPASuidvTEC25u])){
																													
																													$xHecbpge9dda = trim(uYtRST7eOVyiC($Wlp5TPASuidvTEC25u));
																													
																													$BHYUWeJbvD = $xHecbpge9dda ?
																													
																													preg_replace(
																													
																													'#(^|\|)/#',
																													
																													'$01(?:^|/)',
																													
																													preg_replace("#\s*[\r\n]+\s*#",'|', (strstr($xHecbpge9dda,'*') ? $xHecbpge9dda : preg_quote($xHecbpge9dda,'#')))
																													
																													) : '';
																													
																													$mCHFuT4nhbnd = array();
																													
																													$W4jbKaU5HGl = 20000;
																													
																													while((strlen($BHYUWeJbvD) > $W4jbKaU5HGl) && ($HCPqoVOx4Pv4X3j++ < 50)){
																													
																													$KQeDLQUzcA3Zh33KL = strrpos(substr($BHYUWeJbvD,0, $W4jbKaU5HGl), '|');
																													
																													$mCHFuT4nhbnd[] = substr($BHYUWeJbvD, 0, $KQeDLQUzcA3Zh33KL-1);
																													
																													$BHYUWeJbvD = substr($BHYUWeJbvD, $KQeDLQUzcA3Zh33KL+1);
																													
																													}
																													
																													if($mCHFuT4nhbnd)$mCHFuT4nhbnd[] = $BHYUWeJbvD;
																													
																													$this->Jory6V07EvLOFuOS0[$Wlp5TPASuidvTEC25u] = $mCHFuT4nhbnd ? $mCHFuT4nhbnd : $BHYUWeJbvD;
																													
																													}
																													
																													return $this->Jory6V07EvLOFuOS0[$Wlp5TPASuidvTEC25u];
																													
																													}
																													
																													function DIPoBCQkQ9fj($U7aCQ_HSM8qvDJ){
																													
																													global $O98U4RE9a7tilX3XFQ;
																													
																													if(!isset($O98U4RE9a7tilX3XFQ[$U7aCQ_HSM8qvDJ])) {
																													
																													$zDPMGLnA1 = array();
																													
																													if($_p = trim(uYtRST7eOVyiC($U7aCQ_HSM8qvDJ))){
																													
																													$_ar = preg_split('#[\r\n]+#', $_p);
																													
																													foreach($_ar as $v){
																													
																													$me = explode(' ', $v);
																													
																													if($me[0]&& $me[1])$zDPMGLnA1['#'.$me[0].'#'] = $me[1];
																													
																													}
																													
																													}
																													
																													$O98U4RE9a7tilX3XFQ[$U7aCQ_HSM8qvDJ] = $zDPMGLnA1;
																													
																													}
																													
																													return $O98U4RE9a7tilX3XFQ[$U7aCQ_HSM8qvDJ];
																													
																													}
																													
																													function ButLvR74PkmjEjSm7($a, $DWrgqgqzMvIgo0f) {
																													
																													if($zDPMGLnA1 = $this->DIPoBCQkQ9fj($DWrgqgqzMvIgo0f)){
																													
																													if($a2 = preg_replace(array_keys($zDPMGLnA1),array_values($zDPMGLnA1),$a))
																													
																													$a = $a2;
																													
																													}
																													
																													return $a;
																													
																													}
																													
																													function e0Gbq2gU5($twMLYsXuIC9pnaVkl3, $uz6X3zpm8hlh2WQXV) {
																													
																													$f = false;
																													
																													if($twMLYsXuIC9pnaVkl3)
																													
																													foreach($twMLYsXuIC9pnaVkl3 as $bm)
																													
																													{
																													
																													if($f = preg_match('#^('.$bm.')#', $uz6X3zpm8hlh2WQXV, $_imatch))
																													
																													break;// break FOREACH
																													
																													}
																													
																													return $f ? $_imatch[1] : 0;
																													
																													}
																													
																													function RUaplgNGInZve($uz6X3zpm8hlh2WQXV) {
																													
																													$bm = $this->e0Gbq2gU5($this->t71f_efSaAOndERJMx1, $uz6X3zpm8hlh2WQXV);
																													
																													if($bm)
																													
																													{
																													
																													$tVkX6DfFmWHMvR9pX = $this->e0Gbq2gU5($this->botmatch_allow, $uz6X3zpm8hlh2WQXV);
																													
																													return $tVkX6DfFmWHMvR9pX ? false : $bm;
																													
																													}
																													
																													return false;
																													
																													}
																													
																													function nNQauD8yqV($CYrdjpIHAOWgcogb) {
																													
																													$us = '';
																													
																													if($_f = $this->U9E6sLwDkXCLtybu('excmask_std',$CYrdjpIHAOWgcogb))
																													
																													$us = 'exclude-urls-std';
																													
																													else
																													
																													if($_f = $this->U9E6sLwDkXCLtybu('excmask',$CYrdjpIHAOWgcogb))
																													
																													$us = 'exclude-urls';
																													
																													else
																													
																													if($_f =($_fbot = $this->RUaplgNGInZve($this->xKSjC9fm7Ct.$CYrdjpIHAOWgcogb))){
																													
																													$us = 'robots-txt';
																													
																													}
																													
																													if($_f){
																													
																													$this->Mp8_74X3QKt($CYrdjpIHAOWgcogb, $us);
																													
																													return $us;
																													
																													}
																													
																													return false;
																													
																													}
																													
																													function Mp8_74X3QKt($_lurl, $iAy4Xiz6k2fd, $avoCwzPLGPggEoeg = array()) {
																													
																													if(!is_array($iAy4Xiz6k2fd))
																													
																													$iAy4Xiz6k2fd = array($iAy4Xiz6k2fd,'');
																													
																													$rs = array_shift($iAy4Xiz6k2fd);
																													
																													if($avoCwzPLGPggEoeg)$iAy4Xiz6k2fd['fdi'] = $avoCwzPLGPggEoeg;
																													
																													$_uls = &$this->urls_list_skipped;
																													
																													if(!$_uls[$rs]){
																													
																													$_uls[$rs] = array();
																													
																													}
																													
																													if(!$_uls[$rs][$_lurl]) {
																													
																													$_uls['#cnt'][$rs]++;
																													
																													if(!strstr($rs,'-std'))
																													
																													$_uls['#tot']++;
																													
																													if($_ref = $this->z9wRO_UXMNYH7e4OnAv[$_lurl])
																													
																													$_ref = $_ref[0];
																													
																													else
																													
																													$_ref =  $this->gkc6cuOs53JHjwRAY6;
																													
																													Gpa9Bjai2UMV7SSv("\n({ skipped \"".$_lurl."\" - (".$rs.") / (".$iAy4Xiz6k2fd[0].") / (".$_ref.") })<br />\n");
																													
																													$_lmax = uYtRST7eOVyiC('xs_chlog_list_max');
																													
																													if(!$_lmax || (count($_uls[$rs]) < $_lmax))
																													
																													{
																													
																													$iAy4Xiz6k2fd['ref'] = $_ref;
																													
																													$_uls[$rs][$_lurl] = $iAy4Xiz6k2fd;
																													
																													}
																													
																													}
																													
																													}
																													
																													function o62A4fSUkV($_purl, $_lurl, $iAy4Xiz6k2fd) {
																													
																													if(!is_array($iAy4Xiz6k2fd))
																													
																													$iAy4Xiz6k2fd = array($iAy4Xiz6k2fd,'');
																													
																													$rs = array_shift($iAy4Xiz6k2fd);
																													
																													$_uls = &$this->PcrmU5d0puI6Fy;
																													
																													if(!$_uls[$rs]){
																													
																													$_uls[$rs] = array();
																													
																													}
																													
																													if(!$_uls[$rs][$_lurl]) {
																													
																													$_uls['#cnt'][$rs]++;
																													
																													if(!strstr($rs,'-std'))
																													
																													$_uls['#tot']++;
																													
																													$_ref =  $_purl;
																													
																													Gpa9Bjai2UMV7SSv("\n({image skipped ".$_lurl." - ".$rs." / ".$iAy4Xiz6k2fd[0]." / ".$_ref."})<br />\n");
																													
																													$_lmax = uYtRST7eOVyiC('xs_chlog_list_max');
																													
																													if(!$_lmax || (count($_uls[$rs]) < $_lmax))
																													
																													{
																													
																													$iAy4Xiz6k2fd['ref'] = $_ref;
																													
																													$_uls[$rs][$_lurl] = $iAy4Xiz6k2fd;
																													
																													}
																													
																													}
																													
																													}
																													
																													function u04XNfRtsQBwD1Mjst($_lurl, $_lurlcode = 0, $MuwBRIDxvs = false) {
																													
																													$this->XrYcC_5YQ_q1ne[$this->gkc6cuOs53JHjwRAY6] = $_lurl;
																													
																													$this->addedcnt['redirs']=count($this->XrYcC_5YQ_q1ne);
																													
																													if($_lurlcode || uYtRST7eOVyiC('xs_prev_sm_base_canonical', false)){
																													
																													$this->Qzca9KtuSuweE7eg[$this->gkc6cuOs53JHjwRAY6] = [$_lurl, $_lurlcode, $MuwBRIDxvs];
																													
																													$this->addedcnt['redirbase'] = count($this->Qzca9KtuSuweE7eg);
																													
																													}
																													
																													if($_lurlcode){
																													
																													
																													return array('redirect', $_lurlcode, $_lurl, $MuwBRIDxvs);
																													
																													}
																													
																													return array('canonical', $_lurl);
																													
																													}
																													
																													function VTEALPCPBnuCYjF($CYrdjpIHAOWgcogb, $uz6X3zpm8hlh2WQXV, $gwTxmd2WqPraW = false){
																													
																													global $grab_parameters;
																													
																													$qt7yx4DD7Kx157 = max(1, intval($grab_parameters['xs_maxref']));
																													
																													$_rlmax = max(0, $grab_parameters['xs_ref_list_max']);
																													
																													if(!$gwTxmd2WqPraW){
																													
																													if(!isset($this->Yqrb0MMKAex3GumRNM[$CYrdjpIHAOWgcogb]) )
																													
																													$this->Yqrb0MMKAex3GumRNM[$CYrdjpIHAOWgcogb] = array();
																													
																													
																													
																													$_intmax = min($qt7yx4DD7Kx157, (count($this->Yqrb0MMKAex3GumRNM)<$_rlmax*2) ? $qt7yx4DD7Kx157 : 2);
																													
																													if(count($this->Yqrb0MMKAex3GumRNM[$CYrdjpIHAOWgcogb]) < $qt7yx4DD7Kx157)
																													
																													$this->Yqrb0MMKAex3GumRNM[$CYrdjpIHAOWgcogb][] = $uz6X3zpm8hlh2WQXV;
																													
																													}
																													
																													if($_rlmax && $grab_parameters['xs_ref_list_store']  ){
																													
																													if(!isset($this->ref_links_list[$CYrdjpIHAOWgcogb]) && count($this->ref_links_list)<$_rlmax){
																													
																													$this->ref_links_list[$CYrdjpIHAOWgcogb] = array();
																													
																													}
																													
																													if(isset($this->ref_links_list[$CYrdjpIHAOWgcogb]))
																													
																													{
																													
																													$this->ref_links_list[$CYrdjpIHAOWgcogb][-1]++;
																													
																													if(count($this->ref_links_list[$CYrdjpIHAOWgcogb]) <= $qt7yx4DD7Kx157) {
																													
																													if(!in_array($this->gkc6cuOs53JHjwRAY6, $this->ref_links_list[$CYrdjpIHAOWgcogb]))
																													
																													$this->ref_links_list[$CYrdjpIHAOWgcogb][] = $uz6X3zpm8hlh2WQXV;
																													
																													}
																													
																													}
																													
																													}
																													
																													}
																													
																													function llrdonYEt(&$uz6X3zpm8hlh2WQXV) {
																													
																													global $grab_parameters;
																													
																													$us = '';
																													
																													if(isset($this->XrYcC_5YQ_q1ne[$uz6X3zpm8hlh2WQXV])){
																													
																													$WzMPQPUKS =$this->XrYcC_5YQ_q1ne[$uz6X3zpm8hlh2WQXV];
																													
																													$_xlc = $this->i4YBy_a0gx($WzMPQPUKS);
																													
																													$q5mXhT0VAQKh0u = $_xlc['isext'];
																													
																													if($q5mXhT0VAQKh0u){
																													
																													$f = true;
																													
																													$us = $this->uk1X1bxy5kVbdo19[$q5mXhT0VAQKh0u];
																													
																													}
																													
																													}
																													
																													if(strstr($uz6X3zpm8hlh2WQXV,'?#?'))
																													
																													{
																													
																													
																													$f3 = true;
																													
																													$us = 'command-url';
																													
																													}else
																													
																													{
																													
																													if(!$f && $this->Y2JFas41Ha7Bh){
																													
																													if($f =  @preg_match('#'.$grab_parameters['xs_exc_skip'].'#i',$uz6X3zpm8hlh2WQXV))
																													
																													$us = 'excl-extension';
																													
																													}
																													
																													if(!$f && $this->excmask_std){
																													
																													if($f = @preg_match('#('.($this->excmask_std).')#',$uz6X3zpm8hlh2WQXV))
																													
																													$us = 'exclude-urls-std';
																													
																													}
																													
																													if(!$f)
																													
																													if($f = $this->U9E6sLwDkXCLtybu('excmask',$uz6X3zpm8hlh2WQXV))
																													
																													$us = 'exclude-urls';
																													
																													if(!$f && ($f = $this->RUaplgNGInZve(
																													
																													strstr($uz6X3zpm8hlh2WQXV,'://') ?
																													
																													preg_replace('#^.*?\://[^/]*#','',$uz6X3zpm8hlh2WQXV)
																													
																													:
																													
																													$this->xKSjC9fm7Ct.$uz6X3zpm8hlh2WQXV
																													
																													) ))
																													
																													$us = 'robots-txt';
																													
																													$f2 = false;
																													
																													$riHsxx1tgqk4ZFis1Nx = false;
																													
																													if(!$f)
																													
																													{
																													
																													$f2 = $this->JKKdudUKlq && preg_match('#'.$grab_parameters['xs_inc_skip'].'#i',$uz6X3zpm8hlh2WQXV);
																													
																													
																													if(!$f2 && $this->HF09NtRGt5wcIet ) {
																													
																													$f2 = preg_match('#('.$this->HF09NtRGt5wcIet.')#',$uz6X3zpm8hlh2WQXV);
																													
																													}
																													
																													if(!$f2 && $grab_parameters['xs_parse_only'] && $uz6X3zpm8hlh2WQXV && ($uz6X3zpm8hlh2WQXV!='/'))
																													
																													{
																													
																													$f2 = !$this->vH5384QiQe6('xs_parse_only', $uz6X3zpm8hlh2WQXV, true);
																													
																													}
																													
																													}
																													
																													$f3 = false;
																													
																													if($this->noincmask){
																													
																													if($f3=@preg_match('#('.$this->noincmask.')#',$uz6X3zpm8hlh2WQXV))
																													
																													$us = 'crawl-not-include';
																													
																													}
																													
																													if($f) {
																													
																													
																													if(($this->links_level==0)&& ($this->num_urls_processed_in_current_batch>1)){
																													
																													if($grab_parameters['xs_moreurls_alwaysinc']){
																													
																													$us = '';
																													
																													}else {
																													
																													$f3 = $f;
																													
																													}
																													
																													$f = false;
																													
																													}
																													
																													}
																													
																													}
																													
																													return array('f' => $f, 'f2' => $f2, 'f3' => $f3, 'uskip' => $us);
																													
																													}
																													
																													function x9jVsd5GQ_0iK6e(&$uz6X3zpm8hlh2WQXV) {
																													
																													
																													global $grab_parameters;
																													
																													$f = $this->vH5384QiQe6('xs_botapi_exclude', $uz6X3zpm8hlh2WQXV, false) || // matches exclude
																													
																													!$this->vH5384QiQe6('xs_botapi_parse_only', $uz6X3zpm8hlh2WQXV, true); // OR not matches "parse only"
																													
																													return array('f' => $f, 'uskip' => 'excl-bot');
																													
																													}
																													
																													function eVq4rYPNrn8($riHsxx1tgqk4ZFis1Nx) {
																													
																													return ($riHsxx1tgqk4ZFis1Nx);
																													
																													
																													}
																													
																													function ciIQeHn6AdUnx6c($riHsxx1tgqk4ZFis1Nx) {
																													
																													return ZemEb1wrkmtr2t($riHsxx1tgqk4ZFis1Nx);
																													
																													}
																													
																													function D_92CNRcLCBbAvv() {
																													
																													if($this->links_level>0) {
																													
																													$this->UxoQSL7Suyq5hIutb = $this->VL35Keydv0RV;
																													
																													reset($this->UxoQSL7Suyq5hIutb);
																													
																													$this->urls_list_full += $this->UxoQSL7Suyq5hIutb;
																													
																													}else {
																													
																													$this->urls_list_full = $this->UxoQSL7Suyq5hIutb;
																													
																													}
																													
																													$this->wBD3MhpjtBO8tqmNhcW = count($this->UxoQSL7Suyq5hIutb);
																													
																													$this->num_urls_processed_in_current_batch = 0;
																													
																													$this->z9wRO_UXMNYH7e4OnAv = $this->Yqrb0MMKAex3GumRNM;
																													
																													$this->VL35Keydv0RV = array();
																													
																													$this->Yqrb0MMKAex3GumRNM = array();
																													
																													$this->sHrx8IoVOZ8R("Shifting to next batch level");
																													
																													$this->crawl_stats['batches'][$this->links_level] = $this->progpar['adet'];
																													
																													}
																													
																													 
																													
																													function Pq6NkswkyVYEDbR($NdDirA6nDitD7) {
																													
																													global $grab_parameters,$Rgqo7Yox5Mydire,$kvzPJVC8WZaEAjzv2;
																													
																													
																													
																													$this->NdDirA6nDitD7 = $NdDirA6nDitD7;
																													
																													
																													if($this->NdDirA6nDitD7['bgexec'])
																													
																													{
																													
																													ignore_user_abort(true);
																													
																													}
																													
																													if(function_exists('ini_set'))
																													
																													{
																													
																													@ini_set("zlib.output_compression", 0);
																													
																													@ini_set("output_buffering", 0);
																													
																													}
																													
																													$this->R6kB6cBogCUcR = $this->Oi9Zmgr2enoS8qf7N3x = microtime(true);
																													
																													$starttime = $CXZgCKQbL_L = time();
																													
																													$kvzPJVC8WZaEAjzv2 = $this->nettime = 0;
																													
																													
																													$this->m820vHOHqXjLbour0(0,true);
																													
																													
																													$this->fdlKwoX4HgiIlRtTjC = $this->NdDirA6nDitD7['maxpg']>0 ? $this->NdDirA6nDitD7['maxpg'] : 1E10;
																													
																													$this->eWMxEMwbnUJuhi = ($this->fdlKwoX4HgiIlRtTjC>=200000);
																													
																													$this->H7dpHAe1ZxqW2d4_oS = ($this->fdlKwoX4HgiIlRtTjC<=1000);
																													
																													$chqAiJrAXykZ3AMLs_ = $this->NdDirA6nDitD7['maxdepth'] ? $this->NdDirA6nDitD7['maxdepth'] : -1;
																													
																													$this->A76kndxSzOnikhY6uL0 = $this->NdDirA6nDitD7['progress_callback'];
																													
																													$this->YCx6tRQ6S9VOxA8 = $this->NFaNrp_DNnniC('xs_excl_urls');
																													
																													$this->excmask_std = $this->NFaNrp_DNnniC('xs_excl_urls_std');
																													
																													$this->HF09NtRGt5wcIet = $this->NFaNrp_DNnniC('xs_incl_urls');
																													
																													$this->noincmask = $this->NFaNrp_DNnniC('xs_noincl_urls');
																													
																													$this->baseincmask = $this->NFaNrp_DNnniC('xs_prev_sm_incl');
																													
																													$this->basecachemask = $this->NFaNrp_DNnniC('xs_prev_sm_cache');
																													
																													$this->basecachemask_skip = $this->NFaNrp_DNnniC('xs_prev_sm_cache_skip');
																													
																													$tagh20LfYEFTz = $jKKPTXmjqN0P2 = array();
																													
																													$aBNjh41fLx = '';
																													
																													$Lc3J_yXfeas3XcaVAQ = preg_split('#[\r\n]+#', $grab_parameters['xs_ind_attr']);
																													
																													$this->allowcode = '#200'.($grab_parameters['xs_allow_httpcode']?'|'.$grab_parameters['xs_allow_httpcode']:'').'#';
																													
																													$this->forbidcode = '#403'.($grab_parameters['xs_forbid_httpcode']?'|'.$grab_parameters['xs_forbid_httpcode']:'').'#';
																													
																													$this->badreqcode = '#400|429#';
																													
																													$this->retry_stop_code = (($_tmp=$grab_parameters['xs_badreq_httpcode']) ?
																													
																													'#'.str_replace(' ', '|',$_tmp).'#':'');
																													
																													$this->interruptcode = (($_tmp=$grab_parameters['xs_interrupt_httpcode'])?'#'.$_tmp.'#':'');
																													
																													if($grab_parameters['xs_memsave'])
																													
																													{
																													
																													if(!file_exists(n5tMOg62N5))
																													
																													mkdir(n5tMOg62N5, 0777);
																													
																													else
																													
																													if($this->NdDirA6nDitD7['resume']=='')
																													
																													m1iq__8vzNTagaS(n5tMOg62N5, '.txt');
																													
																													}
																													
																													foreach($Lc3J_yXfeas3XcaVAQ as $ia)
																													
																													if($ia)
																													
																													{
																													
																													$is = explode(',', $ia);
																													
																													if($is[0][0]=='$')
																													
																													$BOcu_xzMur0DejP = preg_replace('#\(([^\?])#','(?:$01',substr($is[0], 1));
																													
																													else
																													
																													$BOcu_xzMur0DejP = str_replace(array('\\^', '\\$'), array('^','$'), preg_quote($is[0],'#'));
																													
																													$jKKPTXmjqN0P2[] = $BOcu_xzMur0DejP;
																													
																													
																													$tagh20LfYEFTz[] =
																													
																													array('lm' => $is[1], 'f' => $is[2], 'p' => $is[3]);
																													
																													}
																													
																													if($jKKPTXmjqN0P2)
																													
																													$aBNjh41fLx = '('.implode(')|(',$jKKPTXmjqN0P2).')';
																													
																													$this->Z1JhlPcblVrJXSoF($this->NdDirA6nDitD7['initurl']);
																													
																													$this->fb23nrOMWYh = array();
																													
																													$this->urls_404 = array();
																													
																													$this->Lr95wALjvGm = $this->tsize = $retrno = $O4kU9hKnV6 = $BmAoCtkHmjC = $this->fetch_no = 0;
																													
																													$tXkO6UNT7i = 0;
																													
																													if($this->jMxbITiXlO5nmhmw()) {
																													
																													
																													$_prelist = array($this->CKkufD8Jt);
																													
																													if(uYtRST7eOVyiC('xs_robotstxt'))
																													
																													$_prelist[] = $this->BQuugH4detSL1C.'/robots.txt';
																													
																													$Rgqo7Yox5Mydire->PsiPUeBCQgzxKlY($_prelist);
																													
																													}
																													
																													$_init_check_url = $this->CKkufD8Jt;
																													
																													do {
																													
																													$ua9tyorFugytr = $Rgqo7Yox5Mydire->fetch($_init_check_url, 0, true, false, '', array('getinfo'=>true));// the first request is to skip session id
																													
																													$tgxWyFGjOk51hF = !preg_match($this->allowcode,$ua9tyorFugytr['code']);
																													
																													if(($_lastu = $ua9tyorFugytr['last_url']) && ($_lastu != $_init_check_url)) {
																													
																													$_xlc = $this->i4YBy_a0gx($_lastu, $this->CKkufD8Jt);
																													
																													$_ext = $_xlc['isext'];
																													
																													if($_ext != 1) { // 1 - externals, 2 - subdomain/cross-protocol
																													
																													$_init_check_url = $_lastu;
																													
																													if($_ext){
																													
																													$this->Z1JhlPcblVrJXSoF($_init_check_url);
																													
																													}
																													
																													}
																													
																													}
																													
																													}while($tgxWyFGjOk51hF && ($tXkO6UNT7i++ <2)); // repeat 3 times
																													
																													
																													
																													$this->runstate['info'] = $ua9tyorFugytr['info'];
																													
																													$this->runstate['info_content'] = $ua9tyorFugytr['content'];
																													
																													if($tgxWyFGjOk51hF)
																													
																													{
																													
																													$tgxWyFGjOk51hF = '';
																													
																													foreach($ua9tyorFugytr['headers'] as $k=>$v)
																													
																													$tgxWyFGjOk51hF .= $k.': '.$v.'<br />';
																													
																													return array(
																													
																													'errmsg'=>'<b>There was an error while retrieving the URL specified:</b> '.$this->CKkufD8Jt.''.
																													
																													($ua9tyorFugytr['errormsg']?'<br><b>Error message:</b> '.$ua9tyorFugytr['errormsg']:'').
																													
																													'<br><b>HTTP Code:</b><br>'.$ua9tyorFugytr['protoline'].
																													
																													'<br><b>HTTP headers:</b><br>'.$tgxWyFGjOk51hF.
																													
																													'<br><b>HTTP output:</b><br>'.$ua9tyorFugytr['content']
																													
																													,
																													
																													);
																													
																													}
																													
																													$this->CKkufD8Jt = $_lastu;
																													
																													register_shutdown_function('w81RXoNzadssEV06TGW');
																													
																													$this->lXZzreYj5Sp71N6a = $Rgqo7Yox5Mydire->fetch($this->CKkufD8Jt,0,true,true);
																													
																													$vD9L6rhO0PmkqKOMW6j = str_replace($this->LGu93aFor,'',$this->CKkufD8Jt);
																													
																													if(!$vD9L6rhO0PmkqKOMW6j)$vD9L6rhO0PmkqKOMW6j='';
																													
																													$this->links_level = 0;
																													
																													$this->UxoQSL7Suyq5hIutb = array($vD9L6rhO0PmkqKOMW6j=>1);
																													
																													$this->D_92CNRcLCBbAvv();
																													
																													
																													if(!$grab_parameters['xs_progupdate'])$grab_parameters['xs_progupdate'] = 20;
																													
																													$this->t71f_efSaAOndERJMx1 = array();
																													
																													$this->botmatch_allow = array();
																													
																													if(uYtRST7eOVyiC('xs_robotstxt'))
																													
																													{
																													
																													$this->bwFKDeaDhz = $Rgqo7Yox5Mydire->GoUkTerrISR58PP($this->BQuugH4detSL1C.'/robots.txt', array('skip_cookies'=>true));
																													
																													if(!preg_match($this->allowcode, $this->bwFKDeaDhz['code']))
																													
																													$this->bwFKDeaDhz['content'] = '';
																													
																													$pEuj3C8e7z = $this->bwFKDeaDhz['content'];
																													
																													if(!$grab_parameters['xs_inc_ajax'])
																													
																													$pEuj3C8e7z = preg_replace('#\s*\#.*#im', '', $pEuj3C8e7z);
																													
																													$ra = preg_split('#\s*user-agent:\s*#im', $pEuj3C8e7z);
																													
																													$DWSJF9y6zyz = $gdHRy5An0LU2dLhXOn = array();
																													
																													$qTMAkXSseK2ELEAb = false;
																													
																													$N4U6cGlXYF_IliHxS = false;
																													
																													$_ualist = array();
																													
																													for($i=1;$i<count($ra);$i++){
																													
																													preg_match('#^\s*(\S+)(.*)$#s',$ra[$i],$zH38Xu9bJrZ);
																													
																													$_ua = strtolower(trim($zH38Xu9bJrZ[1]));
																													
																													$_dir = trim($zH38Xu9bJrZ[2]);
																													
																													$DbbpFbjGV9z = ($_ua == 'googlebot');
																													
																													$cWJcHWGIQMr = ($_ua && ($_ua == uYtRST7eOVyiC('xs_robots_bot')));
																													
																													$MjZFkwXGVHAvQy_P7 = ($_ua == '*');
																													
																													if(!$MjZFkwXGVHAvQy_P7 && !$DbbpFbjGV9z && !$cWJcHWGIQMr)
																													
																													continue;  // cont FOR
																													
																													if($MjZFkwXGVHAvQy_P7 && $qTMAkXSseK2ELEAb)
																													
																													continue; // cont FOR
																													
																													if($N4U6cGlXYF_IliHxS)
																													
																													continue; // cont FOR
																													
																													if($cWJcHWGIQMr) {
																													
																													$N4U6cGlXYF_IliHxS = true;
																													
																													$DWSJF9y6zyz = $gdHRy5An0LU2dLhXOn = array();
																													
																													}
																													
																													#				preg_match_all('#^disallow:[^\S\r\n]*([^\#\r\n]*)#im', $_dir, $rm);
																													
																													preg_match_all('#^disallow:[^\S\r\n]*([^\r\n]*)#im', $_dir, $rm);
																													
																													if($DbbpFbjGV9z && (count($rm[1]) || !$_dir)){
																													
																													
																													
																													$qTMAkXSseK2ELEAb = true;
																													
																													$DWSJF9y6zyz = $gdHRy5An0LU2dLhXOn = array();
																													
																													}
																													
																													for($pi=0;$pi<count($rm[1]);$pi++)
																													
																													if($rm[1][$pi])
																													
																													$DWSJF9y6zyz[] =
																													
																													str_replace('\\$','$',
																													
																													str_replace(' ','',
																													
																													str_replace('\\*','.*',
																													
																													preg_quote($rm[1][$pi],'#')
																													
																													)));
																													
																													preg_match_all('#^allow:\s*(\S*)#im',$zH38Xu9bJrZ[2],$rm);
																													
																													for($pi=0;$pi<count($rm[1]);$pi++){
																													
																													$_rp = $rm[1][$pi];
																													
																													$_rpall = ($_rp == '/');
																													
																													if($DbbpFbjGV9z && $_rpall){
																													
																													$qTMAkXSseK2ELEAb = true;
																													
																													$DWSJF9y6zyz = $gdHRy5An0LU2dLhXOn = array();
																													
																													}
																													
																													if($_rp && !$_rpall) {
																													
																													$gdHRy5An0LU2dLhXOn[] =
																													
																													str_replace('\\$','$',
																													
																													str_replace('\\*','.*',
																													
																													str_replace(' ','',
																													
																													preg_quote($_rp,'#')
																													
																													)));
																													
																													}
																													
																													}
																													
																													}
																													
																													for($i=0;$i<count($DWSJF9y6zyz);$i+=200)
																													
																													$this->t71f_efSaAOndERJMx1[]=implode('|', array_slice($DWSJF9y6zyz, $i,200));
																													
																													for($i=0;$i<count($gdHRy5An0LU2dLhXOn);$i+=200)
																													
																													$this->botmatch_allow[]=implode('|', array_slice($gdHRy5An0LU2dLhXOn, $i,200));
																													
																													}
																													
																													if($grab_parameters['xs_inc_ajax'])
																													
																													$grab_parameters['xs_proto_skip'] = str_replace(
																													
																													'\#', '\#(?:[^\!]|$)', $grab_parameters['xs_proto_skip']);
																													
																													$this->Y2JFas41Ha7Bh = $grab_parameters['xs_exc_skip']!='\\.()';
																													
																													$this->JKKdudUKlq = $grab_parameters['xs_inc_skip']!='\\.()';
																													
																													$grab_parameters['xs_inc_skip'] .= '(?:$|\?)';
																													
																													$grab_parameters['xs_exc_skip'] .= '(?:$|\?)';
																													
																													if($grab_parameters['xs_debug']) {
																													
																													$_GET['ddbg']=1;
																													
																													QmvClYcucJa();
																													
																													}
																													
																													$I2wjdAAsNKblNhs3T = 0;
																													
																													$this->l39B5BzXe();
																													
																													o_V2IjGO4FbBy(fblAQEhuR9vBvG3WD3,'');
																													
																													$auDhSkKckYTv2 = false;
																													
																													if($this->NdDirA6nDitD7['resume']!=''){
																													
																													Gpa9Bjai2UMV7SSv("\nRestoring session\n");
																													
																													$TYHRDZiWCRbVqzBb6 = @ZemEb1wrkmtr2t(ouNNfKx_I37NGU4TZMQ(ee6DE3zheBrz3N . EZDFQmUtjVbpx9NW, true));
																													
																													if($TYHRDZiWCRbVqzBb6)
																													
																													{
																													
																													$auDhSkKckYTv2 = true;
																													
																													echo 'Resuming the last session (last updated: '.date('Y-m-d H:i:s',$TYHRDZiWCRbVqzBb6['time']).')'."\n";
																													
																													unset($TYHRDZiWCRbVqzBb6['sm_base']);
																													
																													
																													if($TYHRDZiWCRbVqzBb6['urls_completed']){
																													
																													
																													@WSvkWWFpjZnripMo(ee6DE3zheBrz3N.WM4in_T2Mrf);
																													
																													$this->mWZvXOgbL2muF5 = count($TYHRDZiWCRbVqzBb6['urls_completed']);
																													
																													$TYHRDZiWCRbVqzBb6['urls_completed_latest'] = $TYHRDZiWCRbVqzBb6['urls_completed'];
																													
																													unset($TYHRDZiWCRbVqzBb6['urls_completed']);
																													
																													}
																													
																													$dFnH11OWKVHCKEwlm = array(
																													
																													'imlist' => 'hashlist_img',
																													
																													'imlist2' => 'hashlist_vid',
																													
																													'urls_list' => 'urls_list_current_batch',
																													
																													'urls_list2' => 'urls_list_next_batch',
																													
																													'urls_ext' => 'urls_list_ext',
																													
																													'num_links_current_batch' => 'num_urls_current_batch',
																													
																													'num_processed' => 'num_urls_processed',
																													
																													'ref_links_tmp' => 'ref_urls_next_batch',
																													
																													'ref_links_tmp2' => 'ref_urls_current_batch',
																													
																													);
																													
																													foreach($dFnH11OWKVHCKEwlm as $_po => $_pn) {
																													
																													if(isset($TYHRDZiWCRbVqzBb6[$_po])) {
																													
																													$this->$_pn = $TYHRDZiWCRbVqzBb6[$_po];
																													
																													unset($TYHRDZiWCRbVqzBb6[$_po]);
																													
																													}
																													
																													}
																													
																													foreach($TYHRDZiWCRbVqzBb6 as $k=>$v){
																													
																													if(isset($this->$k)){
																													
																													$this->$k=$v;
																													
																													
																													}else
																													
																													$$k = $v;
																													
																													}
																													
																													unset($_save_progpar['crawl_stats']);
																													
																													
																													
																													if($this->sm_sessions)
																													
																													foreach($this->sm_sessions as $_snum=>$_smsess){
																													
																													unset($this->sm_sessions[$_snum]['progress_start']['crawl_stats']);
																													
																													unset($this->sm_sessions[$_snum]['progress_end']['crawl_stats']);
																													
																													}
																													
																													
																													$_ultmp = array();
																													
																													foreach($this->UxoQSL7Suyq5hIutb as $MBcYNgRUcpddzmm=>$c){
																													
																													$l1 = $MBcYNgRUcpddzmm;
																													
																													$_xlc = $this->i4YBy_a0gx($MBcYNgRUcpddzmm, $this->LGu93aFor);
																													
																													$MBcYNgRUcpddzmm = $this->FH24Z1Zzh6KfPVW($MBcYNgRUcpddzmm);
																													
																													$_ultmp[$MBcYNgRUcpddzmm] = $c;
																													
																													}
																													
																													$this->UxoQSL7Suyq5hIutb = $_ultmp;
																													
																													
																													$this->R6kB6cBogCUcR -= $this->ctime;
																													
																													$I2wjdAAsNKblNhs3T = $this->ctime;
																													
																													unset($TYHRDZiWCRbVqzBb6);
																													
																													}else {
																													
																													
																													@WSvkWWFpjZnripMo(ee6DE3zheBrz3N.WM4in_T2Mrf);
																													
																													}
																													
																													}
																													
																													$this->j5E3rAO3w97fG2e($auDhSkKckYTv2);
																													
																													if($auDhSkKckYTv2){
																													
																													
																													if(1)
																													
																													if($_mu_s = $grab_parameters['xs_moreurls_resume']){
																													
																													$_mu_list = preg_split('# +#', $_mu_s);
																													
																													foreach($_mu_list as $PwtFy91kNSr82uSe)
																													
																													if($PwtFy91kNSr82uSe = trim($_mu_s))
																													
																													{
																													
																													$XO0iq7C5M = $this->U3q19rVU7EOiLZPySDT($PwtFy91kNSr82uSe);
																													
																													foreach($XO0iq7C5M as $MBcYNgRUcpddzmm) {
																													
																													$_xlc = $this->i4YBy_a0gx($MBcYNgRUcpddzmm, $this->LGu93aFor);
																													
																													if($_xlc['isext']!=1) {
																													
																													$MBcYNgRUcpddzmm = $this->FH24Z1Zzh6KfPVW($MBcYNgRUcpddzmm);
																													
																													if(!$this->urls_list_full[$MBcYNgRUcpddzmm]){
																													
																													$this->UxoQSL7Suyq5hIutb[$MBcYNgRUcpddzmm]++;
																													
																													}
																													
																													}
																													
																													}
																													
																													$this->wBD3MhpjtBO8tqmNhcW = count($this->UxoQSL7Suyq5hIutb);
																													
																													}
																													
																													}
																													
																													}else
																													
																													{
																													
																													
																													AS95brafV4MhLHC4b(true);
																													
																													if($_mu_s = $grab_parameters['xs_moreurls']) {
																													
																													$_mu_list = preg_split('#[\r\n]+#', $_mu_s);
																													
																													
																													foreach($_mu_list as $PwtFy91kNSr82uSe)
																													
																													if($PwtFy91kNSr82uSe = trim($PwtFy91kNSr82uSe))
																													
																													{
																													
																													if($oeN_W6W7dNiRt0rKOaH = ($PwtFy91kNSr82uSe[0] == '#'))
																													
																													$PwtFy91kNSr82uSe = substr($PwtFy91kNSr82uSe, 1);
																													
																													$XO0iq7C5M = $this->U3q19rVU7EOiLZPySDT($PwtFy91kNSr82uSe);
																													
																													foreach($XO0iq7C5M as $MBcYNgRUcpddzmm) {
																													
																													$_xlc = $this->i4YBy_a0gx($MBcYNgRUcpddzmm, $this->LGu93aFor);
																													
																													$q5mXhT0VAQKh0u = $_xlc['isext'];
																													
																													if(($q5mXhT0VAQKh0u!=1) || $oeN_W6W7dNiRt0rKOaH) {
																													
																													$MBcYNgRUcpddzmm = $this->FH24Z1Zzh6KfPVW($MBcYNgRUcpddzmm);
																													
																													$this->UxoQSL7Suyq5hIutb[$MBcYNgRUcpddzmm]++;
																													
																													}
																													
																													}
																													
																													}
																													
																													}
																													
																													if($_mu_s = $grab_parameters['xs_moreurls_import']) {
																													
																													$_mu_imp = preg_split('#[\r\n]+#', $_mu_s);
																													
																													foreach($_mu_imp as $zbBbYpc9QywRugHXCT){
																													
																													$_mdef = explode(';', $zbBbYpc9QywRugHXCT, 2);
																													
																													$H24X8dYjh = $this->U3q19rVU7EOiLZPySDT($_mdef[1]);
																													
																													foreach($H24X8dYjh as $MBcYNgRUcpddzmm)
																													
																													{
																													
																													$mwLwruy5ID6GnqWCLNg = array();
																													
																													$bpb5CzzG0Ox74N = $Rgqo7Yox5Mydire->fetch($MBcYNgRUcpddzmm, 0, true, false, '',
																													
																													array('anytype'=>true));
																													
																													switch($_mdef[0]){
																													
																													case 'txt':
																													
																													$mwLwruy5ID6GnqWCLNg = preg_split('#[\r\n]+#', $bpb5CzzG0Ox74N['content']);
																													
																													break;
																													
																													case 'sitemap':
																													
																													if(preg_match_all('#<loc[^>]*>(.*?)</loc>#is', $bpb5CzzG0Ox74N['content'], $Jq59eV5dPaUO7Pf))
																													
																													$mwLwruy5ID6GnqWCLNg = $Jq59eV5dPaUO7Pf[1];
																													
																													break;
																													
																													}
																													
																													foreach($mwLwruy5ID6GnqWCLNg as $MBcYNgRUcpddzmm) {
																													
																													$_xlc = $this->i4YBy_a0gx($MBcYNgRUcpddzmm, $this->LGu93aFor);
																													
																													$q5mXhT0VAQKh0u = $_xlc['isext'];
																													
																													if($q5mXhT0VAQKh0u!=1) {
																													
																													$MBcYNgRUcpddzmm = $this->FH24Z1Zzh6KfPVW($MBcYNgRUcpddzmm);
																													
																													$this->UxoQSL7Suyq5hIutb[$MBcYNgRUcpddzmm]++;
																													
																													}
																													
																													}
																													
																													}
																													
																													}
																													
																													}
																													
																													if($grab_parameters['xs_prev_sm_base']){
																													
																													$UTviRK210imc3fDcb1f = count($this->UxoQSL7Suyq5hIutb);
																													
																													if(is_array($this->sm_base)
																													
																													&& ($grab_parameters['xs_prev_sm_base_min']<count($this->sm_base))
																													
																													){
																													
																													if($this->baseincmask)
																													
																													foreach($this->sm_base as $_u=>$_e){
																													
																													if(preg_match('#('.$this->baseincmask.')#',$_u))
																													
																													$this->UxoQSL7Suyq5hIutb[$_u]++;
																													
																													}
																													
																													}
																													
																													else
																													
																													$this->sm_base = array();
																													
																													Gpa9Bjai2UMV7SSv("\nAdded in urls list: ".(count($this->UxoQSL7Suyq5hIutb)-$UTviRK210imc3fDcb1f)."\n");
																													
																													if(is_array($this->Qzca9KtuSuweE7eg)
																													
																													&& ($grab_parameters['xs_prev_sm_base_min'] > count($this->Qzca9KtuSuweE7eg))
																													
																													)
																													
																													$this->Qzca9KtuSuweE7eg = array();
																													
																													}
																													
																													$this->D_92CNRcLCBbAvv();
																													
																													
																													}
																													
																													$vQhJcT8ct_Q = explode('|', $grab_parameters['xs_force_inc']);
																													
																													$RVy6wyco4qv7HO = $OJjg7dqAPuZW = array();
																													
																													$this->K9akDNrFty1  = count($this->VL35Keydv0RV);
																													
																													sleep(1);
																													
																													s0wbaNiWsfBVT2pAbh(true, true);
																													
																													$this->sm_sessions[] = array(
																													
																													'start' => time(),
																													
																													'instance' => $grab_parameters['xs_instance_id']
																													
																													);
																													
																													$this->addedcnt['smbsess'] = $this->addedcnt['smbsessnew'] = 0;
																													
																													
																													$this->m820vHOHqXjLbour0(0,true);
																													
																													
																													if($this->UxoQSL7Suyq5hIutb)
																													
																													 
																													
																													do {
																													
																													Qfd6uMJrMUCoVpW3uV('pre-zero');
																													
																													if($RVy6wyco4qv7HO) {
																													
																													$_ul = array_shift($RVy6wyco4qv7HO);
																													
																													list($this->gkc6cuOs53JHjwRAY6, $j5W4gDOzhQN2qf) = $_ul;
																													
																													}else
																													
																													{
																													
																													$this->gkc6cuOs53JHjwRAY6 = key($this->UxoQSL7Suyq5hIutb);
																													
																													$j5W4gDOzhQN2qf=current($this->UxoQSL7Suyq5hIutb);
																													
																													next($this->UxoQSL7Suyq5hIutb);
																													
																													}
																													
																													
																													$y4x8WG0XW0x = ($j5W4gDOzhQN2qf>0 && $j5W4gDOzhQN2qf<1) ? $j5W4gDOzhQN2qf : 0;
																													
																													$this->num_urls_processed_in_current_batch++;
																													
																													Gpa9Bjai2UMV7SSv("\n[ ".$this->num_urls_processed_in_current_batch." - $this->gkc6cuOs53JHjwRAY6, $j5W4gDOzhQN2qf] \n");
																													
																													unset($this->UxoQSL7Suyq5hIutb[$this->gkc6cuOs53JHjwRAY6]);
																													
																													$CMORy_I_zuO = false;
																													
																													$iAy4Xiz6k2fd = '';
																													
																													$ua9tyorFugytr = array();
																													
																													$cn = '';
																													
																													$n5KAwYyqy = array();
																													
																													$YJ1Dp5HqfXcXh12lbqb = array();
																													
																													
																													
																													$this->AcpzwbnlgjKcAF = $_fex = $this->llrdonYEt($this->gkc6cuOs53JHjwRAY6);
																													
																													extract($_fex);
																													
																													if($f) {
																													
																													if($this->links_level==0)
																													
																													$iAy4Xiz6k2fd = $_fex['uskip'];
																													
																													}
																													
																													
																													
																													if(!$f && ($this->mWZvXOgbL2muF5>0))
																													
																													{
																													
																													if($riHsxx1tgqk4ZFis1Nx = $this->sm_base[$this->gkc6cuOs53JHjwRAY6]){
																													
																													
																													
																													
																													$f2 = true;
																													
																													$n5KAwYyqy = $riHsxx1tgqk4ZFis1Nx['pginfo'];
																													
																													$n5KAwYyqy['cached'] = true;
																													
																													Gpa9Bjai2UMV7SSv("<br>\n--- { extracted from cache: ".$this->gkc6cuOs53JHjwRAY6." } ---<br>\n");
																													
																													$hLq9Ye1exXyPf = array();
																													
																													if($Os0X_tRh9d9UY = $n5KAwYyqy['curpage_outlinks'])
																													
																													foreach($Os0X_tRh9d9UY as $CYrdjpIHAOWgcogb=>$_lcnt){
																													
																													if($us = $this->nNQauD8yqV($CYrdjpIHAOWgcogb))
																													
																													continue; // cont FOREACH llist
																													
																													$gwTxmd2WqPraW = $this->urls_list_full[$CYrdjpIHAOWgcogb];
																													
																													$this->VTEALPCPBnuCYjF($CYrdjpIHAOWgcogb, $this->gkc6cuOs53JHjwRAY6, $gwTxmd2WqPraW);
																													
																													if($gwTxmd2WqPraW)
																													
																													continue; // cont FOREACH llist
																													
																													if(!$this->VL35Keydv0RV[$CYrdjpIHAOWgcogb]++){
																													
																													$hLq9Ye1exXyPf[$CYrdjpIHAOWgcogb] = $_lcnt;
																													
																													Gpa9Bjai2UMV7SSv("<u>[[[cached acut] $CYrdjpIHAOWgcogb ]]]</u><br>\n",2);
																													
																													}
																													
																													}
																													
																													$n5KAwYyqy['curpage_outlinks'] = $hLq9Ye1exXyPf;
																													
																													}else {
																													
																													
																													}
																													
																													if($_red = $this->Qzca9KtuSuweE7eg[$this->gkc6cuOs53JHjwRAY6]){
																													
																													$CYrdjpIHAOWgcogb = $this->FH24Z1Zzh6KfPVW($_red[0]);
																													
																													$iAy4Xiz6k2fd = $this->u04XNfRtsQBwD1Mjst($_red[0],$_red[1], $_red[2]);
																													
																													$f = true;
																													
																													if(!$_red[2]){
																													
																													$gwTxmd2WqPraW = $this->urls_list_full[$CYrdjpIHAOWgcogb];
																													
																													$this->VTEALPCPBnuCYjF($CYrdjpIHAOWgcogb, $this->gkc6cuOs53JHjwRAY6, $gwTxmd2WqPraW);
																													
																													if(!$gwTxmd2WqPraW) {
																													
																													$this->VL35Keydv0RV[$CYrdjpIHAOWgcogb]++;
																													
																													}
																													
																													}
																													
																													}
																													
																													}
																													
																													if($this->lXZzreYj5Sp71N6a && strstr($this->lXZzreYj5Sp71N6a['content'],'header'))$f2 = true;
																													
																													if($this->mWZvXOgbL2muF5 >= $this->fdlKwoX4HgiIlRtTjC) {
																													
																													
																													$f = true;
																													
																													}
																													
																													Qfd6uMJrMUCoVpW3uV('pre-zero', true);
																													
																													do {
																													
																													Qfd6uMJrMUCoVpW3uV('zero-while');
																													
																													
																													
																													
																													
																													
																													$s07gWkM_tVWSw0sdC = count($this->UxoQSL7Suyq5hIutb) + $this->K9akDNrFty1;
																													
																													$vSAxJH4mP6HVBu3 = $s07gWkM_tVWSw0sdC + $this->mWZvXOgbL2muF5;
																													
																													$DXldhUqnScbelrJqT2 = $s07gWkM_tVWSw0sdC + $this->Lr95wALjvGm;
																													
																													if(!$f && !$f2)
																													
																													{
																													
																													
																													
																													
																													
																													
																													
																													
																													
																													
																													
																													
																													
																													
																													
																													
																													
																													
																													if($this->H7dpHAe1ZxqW2d4_oS && !$GLOBALS['forcepar_reset']){
																													
																													$GLOBALS['forcepar_reset'] = true;
																													
																													if($vQhJcT8ct_Q[1])
																													
																													$vQhJcT8ct_Q[1] *= 10;
																													
																													if($vQhJcT8ct_Q[2])
																													
																													$vQhJcT8ct_Q[2] *= 10;
																													
																													if($vQhJcT8ct_Q[3])
																													
																													$vQhJcT8ct_Q[3] *= 2;
																													
																													}
																													
																													$O4yBi79nSVacKYHnul = ($vQhJcT8ct_Q[1] && (($this->ctime>$vQhJcT8ct_Q[0]) && ($this->Lr95wALjvGm>$this->fdlKwoX4HgiIlRtTjC*$vQhJcT8ct_Q[1])));
																													
																													$_pleft = $this->DpaHtb34sk_OJJy1();
																													
																													$KuhsJGn5U4qZkxn7Gq = $vQhJcT8ct_Q[2] && (
																													
																													$this->eWMxEMwbnUJuhi  && // large sites only
																													
																													($_pleft*$vQhJcT8ct_Q[2]+1000)<
																													
																													($s07gWkM_tVWSw0sdC - $this->num_urls_processed_in_current_batch));
																													
																													$_logdet = "force: (1,$O4yBi79nSVacKYHnul)(2,$KuhsJGn5U4qZkxn7Gq) pagesleft: ".$_pleft.", maxpg: ".$this->fdlKwoX4HgiIlRtTjC.", pagesleft*: ".($_pleft*$vQhJcT8ct_Q[2]+1000).
																													
																													" cmp: ".($s07gWkM_tVWSw0sdC - $this->num_urls_processed_in_current_batch).
																													
																													" / totc: ".($vSAxJH4mP6HVBu3).", totproc: ".$DXldhUqnScbelrJqT2.", proccur: ".$this->num_urls_processed_in_current_batch.
																													
																													" | numproc: ".$this->Lr95wALjvGm. ", cmp2: ".$this->fdlKwoX4HgiIlRtTjC*$vQhJcT8ct_Q[1].
																													
																													" -> fpar: ".implode(", ", $vQhJcT8ct_Q)."\n";
																													
																													
																													
																													$g4LrEkxyemXXcW = ($O4yBi79nSVacKYHnul || $KuhsJGn5U4qZkxn7Gq);
																													
																													$_fp3 = $vQhJcT8ct_Q[3];
																													
																													if(!$g4LrEkxyemXXcW)
																													
																													$g4LrEkxyemXXcW = ($_fp3 && $this->fdlKwoX4HgiIlRtTjC && (($DXldhUqnScbelrJqT2>$this->fdlKwoX4HgiIlRtTjC*$_fp3)));
																													
																													if($g4LrEkxyemXXcW){
																													
																													
																													}
																													
																													if(!$this->H7dpHAe1ZxqW2d4_oS)
																													
																													$qJ8QijpfEs4K1 = $vQhJcT8ct_Q[3] && $this->fdlKwoX4HgiIlRtTjC && (($this->Lr95wALjvGm>$this->fdlKwoX4HgiIlRtTjC*$vQhJcT8ct_Q[3]));
																													
																													if($qJ8QijpfEs4K1){
																													
																													$this->UxoQSL7Suyq5hIutb = $this->VL35Keydv0RV = array();
																													
																													$this->K9akDNrFty1 = 0;
																													
																													$this->wBD3MhpjtBO8tqmNhcW = 0;
																													
																													}
																													
																													$KSrdn3wZlYF = ($chqAiJrAXykZ3AMLs_<=0 || $this->links_level<$chqAiJrAXykZ3AMLs_);
																													
																													Qfd6uMJrMUCoVpW3uV('zero-while', true);
																													
																													if(!$MuwACJTKYrI && $KSrdn3wZlYF)
																													
																													{
																													
																													
																													Qfd6uMJrMUCoVpW3uV('extract');
																													
																													$ECGh8yj0ftz5S = microtime(true);
																													
																													$CjnDhqJxSIaLfkH = cGfjZGtuKd($this->LGu93aFor, $this->gkc6cuOs53JHjwRAY6);
																													
																													if($this->d4BTaRkTYe()) {
																													
																													if(!$RVy6wyco4qv7HO && !isset($Rgqo7Yox5Mydire->xMUDKBqCk3SP5yBxECB[$CjnDhqJxSIaLfkH])){
																													
																													$RVy6wyco4qv7HO = array();
																													
																													$Qbw15mZJr4 = array();
																													
																													$_par = uYtRST7eOVyiC('xs_http_parallel_num', 10);
																													
																													for($i=0;($i<$_par*5)&&(count($Qbw15mZJr4)<$_par);$i++) {
																													
																													$_ul = $i ? key($this->UxoQSL7Suyq5hIutb) : $CjnDhqJxSIaLfkH;
																													
																													$_added_toqueue = false;
																													
																													if($_ul) {
																													
																													$_intfex = $this->llrdonYEt($_ul);
																													
																													$_allow_u = !$_intfex['f'] && !$_intfex['f2'];
																													
																													if($_allow_u){
																													
																													if($this->jMxbITiXlO5nmhmw()){
																													
																													$_usk = $this->x9jVsd5GQ_0iK6e($_ul);
																													
																													$_allow_u = !$_usk['f'];
																													
																													}
																													
																													if($_allow_u){
																													
																													$_u1 = cGfjZGtuKd($this->LGu93aFor, $_ul);
																													
																													if(!isset($this->sm_base[$_u1])){
																													
																													$Qbw15mZJr4[] = $_u1;
																													
																													$_added_toqueue = true;
																													
																													}
																													
																													}
																													
																													}
																													
																													}
																													
																													if($_added_toqueue) {
																													
																													if($i>0){
																													
																													next($this->UxoQSL7Suyq5hIutb); // move pointer
																													
																													$RVy6wyco4qv7HO[] = array($_ul);
																													
																													}
																													
																													}else // skip scanning if non matching URL found and process as many as found at this point
																													
																													break;
																													
																													}
																													
																													if($Qbw15mZJr4){
																													
																													$Rgqo7Yox5Mydire->PsiPUeBCQgzxKlY($Qbw15mZJr4);
																													
																													}else {
																													
																													$RVy6wyco4qv7HO = array();
																													
																													}
																													
																													}
																													
																													}
																													
																													
																													
																													Gpa9Bjai2UMV7SSv("<h4>{ fetch: $CjnDhqJxSIaLfkH (".$this->links_level.") }</h4>\n");
																													
																													$AR4CCjRWrr=0;
																													
																													$O4kU9hKnV6++;
																													
																													$LMZVEsSQU = false;
																													
																													do {
																													
																													
																													
																													
																													if($this->UCZR3jLESp3_U){
																													
																													Gpa9Bjai2UMV7SSv("(interrupted) ".$this->UCZR3jLESp3_U);
																													
																													$LMZVEsSQU = true;
																													
																													break;
																													
																													}
																													
																													$ua9tyorFugytr = $Rgqo7Yox5Mydire->fetch($CjnDhqJxSIaLfkH, 0, ($this->links_level > 0) ? false : true);
																													
																													if(!$uo4Jx8ZSPUrN1SrFhm){
																													
																													$uo4Jx8ZSPUrN1SrFhm = true;
																													
																													$this->xS8BuXe3J4Ky('first_request', array(
																													
																													'url' => $CjnDhqJxSIaLfkH,
																													
																													'info' => $ua9tyorFugytr['info'],
																													
																													'content' => $ua9tyorFugytr['content']
																													
																													));
																													
																													}
																													
																													$dMnjtj7trqzv2cd = $ua9tyorFugytr['info'];
																													
																													unset($ua9tyorFugytr['info']);
																													
																													$this->i4YBy_a0gx($ua9tyorFugytr['last_url']);
																													
																													$this->m820vHOHqXjLbour0();
																													
																													$_tmout = $ua9tyorFugytr['flags']['socket_timeout'];
																													
																													if($_tmout){
																													
																													$ua9tyorFugytr['flags']['error'] = 'Socket timeout';
																													
																													}
																													
																													if($_bc = uYtRST7eOVyiC('xs_404req_httpcontent')) {
																													
																													if(preg_match('#'.$_bc.'#', $ua9tyorFugytr['content'])){
																													
																													$ua9tyorFugytr['flags']['error'] = 'Not found content response';
																													
																													$ua9tyorFugytr['code'] = '404 Not found by content';
																													
																													}
																													
																													}
																													
																													$_ic = intval($ua9tyorFugytr['code']);
																													
																													$_icmatch = preg_replace('#^(\d+).*#', '$01', $_ic);
																													
																													$fAAeLk4DD5K = !$_ic || preg_match($this->badreqcode,$_ic);
																													
																													$BBDkSyeXwf = false;
																													
																													$x6NjmM7AnShh = $this->interruptcode && preg_match($this->interruptcode,$_ic);
																													
																													$LdThlII4pmpSBotruyA = preg_match($this->forbidcode,$_ic);
																													
																													if($this->allowcode && preg_match($this->allowcode,$_ic)){
																													
																													
																													$fAAeLk4DD5K = $LdThlII4pmpSBotruyA = false;
																													
																													}
																													
																													$AvCZ12FhNXPyS5Ky = ($this->retry_stop_code) &&
																													
																													preg_match($this->retry_stop_code, $_icmatch);
																													
																													if($AvCZ12FhNXPyS5Ky){
																													
																													$fAAeLk4DD5K = true;
																													
																													}
																													
																													if(!$fAAeLk4DD5K && ($_bc = uYtRST7eOVyiC('xs_badreq_httpcontent'))) {
																													
																													$BBDkSyeXwf = $fAAeLk4DD5K =  preg_match('#'.$_bc.'#', $ua9tyorFugytr['content']);
																													
																													}
																													
																													$D395Z55TOoFwPcoLLYJ = (($_ic == 301)||($_ic==302)) && ($CjnDhqJxSIaLfkH == $ua9tyorFugytr['last_url']);
																													
																													if($x6NjmM7AnShh) {
																													
																													$this->UCZR3jLESp3_U = "Stop processing code [$_ic] - interrupt session";
																													
																													$LMZVEsSQU = true;
																													
																													break; // break fetch while
																													
																													}
																													
																													if( !$ua9tyorFugytr['flags']['error'] &&
																													
																													(($fAAeLk4DD5K || $LdThlII4pmpSBotruyA || $D395Z55TOoFwPcoLLYJ) || !$ua9tyorFugytr['code'] || $_tmout)
																													
																													)
																													
																													{
																													
																													$AR4CCjRWrr++;
																													
																													Gpa9Bjai2UMV7SSv("(fetch retry #$AR4CCjRWrr)");
																													
																													$_sl = intval(uYtRST7eOVyiC('xs_delay_ms',1));
																													
																													if($ua9tyorFugytr['headers'] && ($_csl = $ua9tyorFugytr['headers']['retry-after']))
																													
																													$_sl = min(120,max($_sl, $_csl + ($AR4CCjRWrr+1)*$_sl));
																													
																													
																													if(
																													
																													($_tmout || $BBDkSyeXwf || $AvCZ12FhNXPyS5Ky    )
																													
																													&& $grab_parameters['xs_timeout_break']){
																													
																													Gpa9Bjai2UMV7SSv("<p> # TIMEOUT ( $_tmout) OR BADREQ CONTENT ($BBDkSyeXwf) ".
																													
																													"OR RETRY_STOP CODE ($AvCZ12FhNXPyS5Ky) #</p>\n");
																													
																													if($AR4CCjRWrr==3){
																													
																													if(strstr($_tmout,'read') ){
																													
																													Gpa9Bjai2UMV7SSv("<p> read200 break?</p>\n");
																													
																													break;// break fetch while
																													
																													}
																													
																													if($BmAoCtkHmjC++ > 4) {
																													
																													
																													
																													
																													$this->UCZR3jLESp3_U = "Too many timeouts detected - interrupt session";
																													
																													$LMZVEsSQU = true;
																													
																													break;// break fetch while
																													
																													
																													}
																													
																													$_sl = 60;
																													
																													Gpa9Bjai2UMV7SSv("<p> # MULTI TIMEOUT [$BmAoCtkHmjC] - ($_sl) TIME BREAK #</p>\n");
																													
																													$AR4CCjRWrr = 0;
																													
																													}
																													
																													}
																													
																													$MhBxIWsrPx8Z6WF1_ = $D395Z55TOoFwPcoLLYJ?"(".$CjnDhqJxSIaLfkH." => ".$ua9tyorFugytr['last_url'].")":"-";
																													
																													Gpa9Bjai2UMV7SSv("<p> # RETRY - ".$ua9tyorFugytr['code']." - (code) ".(intval($ua9tyorFugytr['code']))." - error(".$ua9tyorFugytr['flags']['error'].") self-redir($MhBxIWsrPx8Z6WF1_) badreq($fAAeLk4DD5K) forbreq($LdThlII4pmpSBotruyA) tmout($_tmout)# zZz $_sl</p>\n");
																													
																													sleep($_sl);
																													
																													}
																													
																													else
																													
																													break; // break fetch while
																													
																													
																													
																													
																													}while($AR4CCjRWrr<3);
																													
																													if($LMZVEsSQU) {
																													
																													
																													$this->UxoQSL7Suyq5hIutb = array_merge(array($this->gkc6cuOs53JHjwRAY6 => $j5W4gDOzhQN2qf), $this->UxoQSL7Suyq5hIutb);
																													
																													$this->num_urls_processed_in_current_batch--;
																													
																													$this->Lr95wALjvGm--;
																													
																													
																													break; // break zero while
																													
																													}
																													
																													$this->fetch_no++;
																													
																													Qfd6uMJrMUCoVpW3uV('extract', true);
																													
																													Qfd6uMJrMUCoVpW3uV('zero-while2');
																													
																													$this->ylHq2XW203CDYm1xpm = microtime(true)-$ECGh8yj0ftz5S;
																													
																													$this->nettime += $this->ylHq2XW203CDYm1xpm;
																													
																													$n5KAwYyqy['nettime'] = $this->ylHq2XW203CDYm1xpm;
																													
																													Gpa9Bjai2UMV7SSv("<hr>\n[[[ ".$ua9tyorFugytr['code']." ]]] - [[[ ".number_format($this->ylHq2XW203CDYm1xpm,2)."s ]]] \n<br />".var_export($ua9tyorFugytr['headers'],1).'<br> lu - '.$ua9tyorFugytr['last_url'].'<hr>'
																													
																													);
																													
																													$ZR9ARCxDNGt = strtolower(
																													
																													is_array($ua9tyorFugytr['headers']) ?
																													
																													$ua9tyorFugytr['headers']['content-type'] :
																													
																													(is_array($ua9tyorFugytr['info']) ? $ua9tyorFugytr['info']['content_type'] :'')
																													
																													);
																													
																													$c5a5S6y_wC1h = $this->UUpjvRgAPDq($ZR9ARCxDNGt) || !$ZR9ARCxDNGt;
																													
																													
																													if((strstr($ZR9ARCxDNGt,'application/') && strstr($ZR9ARCxDNGt,'pdf'))
																													
																													||(strstr($ZR9ARCxDNGt,'/xml')&&!strstr($ZR9ARCxDNGt,'text/'))
																													
																													||strstr($ZR9ARCxDNGt,'/rss')
																													
																													||strstr($ZR9ARCxDNGt,'text/plain')
																													
																													)
																													
																													{
																													
																													$ua9tyorFugytr['content'] = '';
																													
																													$c5a5S6y_wC1h = true;
																													
																													}
																													
																													$FZn0UOjuetK3RlI = ($grab_parameters['xs_parse_swf'] && strstr($ZR9ARCxDNGt, 'shockwave-flash'));
																													
																													$WdLrF68MT4YPU4b  = ($grab_parameters['xs_parse_js'] && strstr($ZR9ARCxDNGt, 'javascript'));
																													
																													if($ZR9ARCxDNGt && !$c5a5S6y_wC1h && !$FZn0UOjuetK3RlI && !$WdLrF68MT4YPU4b
																													
																													&& !uYtRST7eOVyiC('xs_ignore_ctype')
																													
																													){
																													
																													if(!$MuwACJTKYrI){
																													
																													$iAy4Xiz6k2fd = array('content-type',$ZR9ARCxDNGt);
																													
																													continue; // cont (break) ZERO WHILE
																													
																													}
																													
																													}
																													
																													$Os0X_tRh9d9UY = array();
																													
																													if($this->vH5384QiQe6('xs_crawl_proc_stripslash', $this->N3S6KHWOVBv2qC21A($this->gkc6cuOs53JHjwRAY6), false)) {
																													
																													$c5a5S6y_wC1h = true;
																													
																													$ua9tyorFugytr['content'] = stripslashes($ua9tyorFugytr['content']);
																													
																													}
																													
																													
																													if(in_array($ua9tyorFugytr['code'], array(404,410) )
																													
																													|| ($grab_parameters['xs_force_404']
																													
																													&& preg_match('#'.implode('|',preg_split('#\s+#',$grab_parameters['xs_force_404'])).'#', $this->gkc6cuOs53JHjwRAY6)
																													
																													)
																													
																													){
																													
																													if($this->links_level>0)
																													
																													if(!$grab_parameters['xs_chlog_list_max'] ||
																													
																													count($this->urls_404) < $grab_parameters['xs_chlog_list_max']) {
																													
																													
																													$HpOfWKO_anK = $this->z9wRO_UXMNYH7e4OnAv[$this->gkc6cuOs53JHjwRAY6];
																													
																													
																													if($HpOfWKO_anK && isset($this->XrYcC_5YQ_q1ne[$HpOfWKO_anK[0]])
																													
																													&& isset($this->ref_links_list[$HpOfWKO_anK[0]])
																													
																													){
																													
																													
																													$HpOfWKO_anK = array_merge($HpOfWKO_anK,
																													
																													array_slice($this->ref_links_list[$HpOfWKO_anK[0]],1));
																													
																													
																													}
																													
																													$_det404 = array($this->gkc6cuOs53JHjwRAY6, $HpOfWKO_anK);
																													
																													if(count($this->urls_404) < 100){
																													
																													$_fd2 = $ua9tyorFugytr;
																													
																													$_fd2['content'] = substr($_fd2['content'],0,10000);
																													
																													$_det404[] = $_fd2;
																													
																													}
																													
																													$this->urls_404[] = $_det404;
																													
																													$this->addedcnt['bl'] = count($this->urls_404);
																													
																													}
																													
																													}
																													
																													
																													$cn = $ua9tyorFugytr['content'];
																													
																													$n5KAwYyqy['cn_len1'] = strlen($cn);
																													
																													
																													$this->tsize += strlen($cn);
																													
																													
																													
																													Gpa9Bjai2UMV7SSv("\n\n<hr>\n".str_repeat('=',60)."\n$cn\n".str_repeat('=',60)."\n<hr>\n\n", 4, true);
																													
																													preg_match_all('#<script[^>]*application/ld\+json[^>]*>(.+?)</script>#is', $cn, $fgO0T4cCO5_0YYq21);
																													
																													if(count($fgO0T4cCO5_0YYq21)>1) {
																													
																													foreach($fgO0T4cCO5_0YYq21[1] as $pp){
																													
																													if($d7fJoIZXHsui9P4G9S = json_decode($pp, true))
																													
																													{
																													
																													$d7fJoIZXHsui9P4G9S['top'] = $d7fJoIZXHsui9P4G9S;
																													
																													foreach($d7fJoIZXHsui9P4G9S as $_k=>$EV4uwQ2OzuuHDj){
																													
																													if(is_array($EV4uwQ2OzuuHDj))
																													
																													foreach($EV4uwQ2OzuuHDj as $k=>$v)
																													
																													$EV4uwQ2OzuuHDj[strtolower($k)] = $v;
																													
																													$d7fJoIZXHsui9P4G9S[$_k] = $EV4uwQ2OzuuHDj;
																													
																													}
																													
																													$YJ1Dp5HqfXcXh12lbqb[] = $d7fJoIZXHsui9P4G9S;
																													
																													}
																													
																													}
																													
																													}
																													
																													if(!$grab_parameters['xs_parse_js']){
																													
																													if($zby6yQztgV31 = preg_replace('#<script.*?</script[^>]*>#is', '',$cn)){
																													
																													$cn = $zby6yQztgV31;
																													
																													}
																													
																													if($zby6yQztgV31 = preg_replace('#<style.*?</style>#is', '',$cn)){
																													
																													$cn = $zby6yQztgV31;
																													
																													}
																													
																													}
																													
																													if(!$grab_parameters['xs_parse_htmlcomments']){
																													
																													if($zby6yQztgV31 = preg_replace('#<!--(\[if IE\]>|.*?-->)#is', '',$cn)){
																													
																													$cn = $zby6yQztgV31;
																													
																													}
																													
																													}
																													
																													Gpa9Bjai2UMV7SSv("\n\n<hr>\n[[[Processed html content]]]\n\n".str_repeat('=',60)."\n$cn\n".str_repeat('=',60)."\n<hr>\n\n", 4, true);
																													
																													preg_match('#<base[^>]*?href=[\'"](.*?)[\'"]#is', $cn, $bm);
																													
																													$this->l39B5BzXe($bm);
																													
																													if($grab_parameters['xs_canonical'])
																													
																													if($CjnDhqJxSIaLfkH == $ua9tyorFugytr['last_url'])
																													
																													{
																													
																													$aW5Vn_nLjCJukVcY3qC = '';
																													
																													if(preg_match('#<link[^>]*rel\s*=\s*[\'"]?canonical[^>]*>#is', $cn, $gaZnCpmP5bn9O))
																													
																													{
																													
																													if(preg_match('#\shref\s*=\s*(?:[\'"](.*?)[\'"]|([^>\'\"\s]*))#is', $gaZnCpmP5bn9O[0], $ldW0qdt0PLY1PZb))
																													
																													$aW5Vn_nLjCJukVcY3qC = $this->LyP4eUwdHgspaDQQTu3(trim($ldW0qdt0PLY1PZb[1].$ldW0qdt0PLY1PZb[2]));
																													
																													}
																													
																													if($_lhdr = $ua9tyorFugytr['headers']['link'])
																													
																													if(preg_match('#\<(.*?)\>.*rel\s*=\s*[\'"]?canonical#is', $_lhdr, $gaZnCpmP5bn9O))
																													
																													{
																													
																													$aW5Vn_nLjCJukVcY3qC = trim($gaZnCpmP5bn9O[1]);
																													
																													}
																													
																													if($aW5Vn_nLjCJukVcY3qC)
																													
																													{
																													
																													$_xlc = $this->i4YBy_a0gx($aW5Vn_nLjCJukVcY3qC);
																													
																													if($CjnDhqJxSIaLfkH != $aW5Vn_nLjCJukVcY3qC){
																													
																													$iAy4Xiz6k2fd = $this->u04XNfRtsQBwD1Mjst($aW5Vn_nLjCJukVcY3qC, 0, $_xlc['isext']);
																													
																													}
																													
																													}
																													
																													
																													if(uYtRST7eOVyiC('xs_canonical_nofollow', false))
																													
																													$g4LrEkxyemXXcW = true;
																													
																													}
																													
																													if($ua9tyorFugytr['last_url']){
																													
																													$_xlc = $this->i4YBy_a0gx($ua9tyorFugytr['last_url']);
																													
																													$q5mXhT0VAQKh0u = $_xlc['isext'];
																													
																													if($q5mXhT0VAQKh0u == 1){
																													
																													$iAy4Xiz6k2fd = $this->u04XNfRtsQBwD1Mjst($ua9tyorFugytr['last_url'],$ua9tyorFugytr['last_url_code'], true);
																													
																													if($ua9tyorFugytr['last_url'] != $CjnDhqJxSIaLfkH) {
																													
																													
																													continue; // break ZERO WHILE
																													
																													}
																													
																													}
																													
																													}
																													
																													$CYrdjpIHAOWgcogb = $this->FH24Z1Zzh6KfPVW($ua9tyorFugytr['last_url']);
																													
																													if(($CjnDhqJxSIaLfkH != $ua9tyorFugytr['last_url']))// && ($CjnDhqJxSIaLfkH != $ua9tyorFugytr['last_url'].'/'))
																													
																													{
																													
																													if(strlen($CYrdjpIHAOWgcogb) <= 2048) {
																													
																													$gwTxmd2WqPraW = $this->urls_list_full[$CYrdjpIHAOWgcogb];
																													
																													if(!$gwTxmd2WqPraW) {
																													
																													$this->VL35Keydv0RV[$CYrdjpIHAOWgcogb]++;
																													
																													$this->VTEALPCPBnuCYjF($CYrdjpIHAOWgcogb, $this->gkc6cuOs53JHjwRAY6);
																													
																													}
																													
																													}
																													
																													$iAy4Xiz6k2fd = $this->u04XNfRtsQBwD1Mjst($ua9tyorFugytr['last_url'],$ua9tyorFugytr['last_url_code'], false);
																													
																													if(!$MuwACJTKYrI)continue; // break ZERO WHILE
																													
																													}
																													
																													if($this->allowcode && !preg_match($this->allowcode,$ua9tyorFugytr['code'])) {
																													
																													if($_c = trim($ua9tyorFugytr['code']))
																													
																													$iAy4Xiz6k2fd = array('http-code',$_c);
																													
																													else
																													
																													$iAy4Xiz6k2fd = 'no-response';
																													
																													continue; // break ZERO WHILE
																													
																													}
																													
																													$retrno++;
																													
																													if($MuwACJTKYrI||$g4LrEkxyemXXcW) {
																													
																													
																													$c5a5S6y_wC1h = false;
																													
																													}
																													
																													if($FZn0UOjuetK3RlI)
																													
																													{
																													
																													include_once Y9kqmA8n8Eh.'class.pfile.inc.php';
																													
																													$am = new SWFParser();
																													
																													$am->Lrlz7G4ghPsFb8($cn);
																													
																													$B_gTARpTkIxhz = $am->jPIs4R7ATh();
																													
																													}else
																													
																													if($WdLrF68MT4YPU4b)
																													
																													{
																													
																													$iAy4Xiz6k2fd = 'javascript';
																													
																													$f = true; // Do not index
																													
																													preg_match_all('#(?:add|menu)item\s*\([^\)]*?["\']((?:\.+\/|http).*?)["\)\']#is', $cn, $Broh86XfLy0PO60Vd);
																													
																													$Os0X_tRh9d9UY = $Broh86XfLy0PO60Vd[1];
																													
																													if(preg_match_all('#\(\s*(\{.*?["\']content["\']\s*\:\s*[\'"](.*?)[\'"]\s*\})\s*\)#is', $cn, $vm2ZWXPDO)){
																													
																													foreach($vm2ZWXPDO[1] as $H6K9bBIGbFxTZZvp8vE){
																													
																													if($FAqFKp2hgMhp = stripslashes($H6K9bBIGbFxTZZvp8vE)){
																													
																													$Os0X_tRh9d9UY = array_merge(
																													
																													$Os0X_tRh9d9UY, $this->TAe0ymt1nLhsGSn($FAqFKp2hgMhp));
																													
																													}
																													
																													}
																													
																													}
																													
																													}else
																													
																													if($c5a5S6y_wC1h)
																													
																													{
																													
																													$Os0X_tRh9d9UY = $this->TAe0ymt1nLhsGSn($cn);
																													
																													}
																													
																													if($ua9tyorFugytr['inpdata'] && ($_dlink = $ua9tyorFugytr['inpdata']['links']))
																													
																													{
																													
																													foreach($_dlink as $_dframe)
																													
																													foreach($_dframe['flinks'] as $_fulink)
																													
																													{
																													
																													$Os0X_tRh9d9UY[] = $_fulink;
																													
																													}
																													
																													}
																													
																													$Os0X_tRh9d9UY = array_unique($Os0X_tRh9d9UY);
																													
																													$n5KAwYyqy['llist_count1'] = count($Os0X_tRh9d9UY);
																													
																													$nn = $nt = 0;
																													
																													reset($Os0X_tRh9d9UY);
																													
																													if(uYtRST7eOVyiC('xs_robotstxt')){
																													
																													if(preg_match('#<meta[^>]*name=[\'"]robots[\'"][^>]*>#is',$cn,$_cm))
																													
																													if(preg_match('#nofollow#is',$_cm[0]))
																													
																													$Os0X_tRh9d9UY = array();
																													
																													}
																													
																													if(!$this->runstate['charset']){
																													
																													if($_cs = uYtRST7eOVyiC('xs_runstate_charset'))
																													
																													$this->runstate['charset'] = $_cs;
																													
																													else
																													
																													if(preg_match('#<meta[^>]*?charset\s*=\s*["\']?([^">]*)["\']#is',$cn, $QAADhI8z4NAQgyTYn))
																													
																													$this->runstate['charset'] = $QAADhI8z4NAQgyTYn[1];
																													
																													}
																													
																													foreach($Os0X_tRh9d9UY as $i=>$ll)
																													
																													if($ll)
																													
																													{
																													
																													if(preg_match('#^https?%3a%2f#i', $ll))
																													
																													$ll = urldecode($ll);
																													
																													$a = $sa = trim($ll);
																													
																													$a = str_replace('&#58;',':',$a);
																													
																													$a = $this->ButLvR74PkmjEjSm7($a, 'xs_custom_replace_pre');
																													
																													if($grab_parameters['xs_proto_skip'] &&
																													
																													(
																													
																													preg_match('#^'.$grab_parameters['xs_proto_skip'].'#i',$a)
																													
																													||
																													
																													($this->Y2JFas41Ha7Bh && preg_match('#'.$grab_parameters['xs_exc_skip'].'#i',$a))
																													
																													||
																													
																													preg_match('#^'.$grab_parameters['xs_proto_skip'].'#i',function_exists('html_entity_decode') ? html_entity_decode($a) : $a)
																													
																													)) {
																													
																													continue; // cont FOREACH
																													
																													}
																													
																													
																													
																													if(strlen($a) > 2048) continue; // cont FOREACH
																													
																													$_xlc = $this->i4YBy_a0gx($a, '', 'xs_links_allow_domains');
																													
																													if($q5mXhT0VAQKh0u = $_xlc['isext'])
																													
																													{
																													
																													if($q5mXhT0VAQKh0u == 1)
																													
																													{
																													
																													if($grab_parameters['xs_extlinks'])
																													
																													{
																													
																													global $_xs_extskip;
																													
																													if(!isset($_xs_extskip)){
																													
																													$_xs_extskip = '';
																													
																													$_xs_extskip .= $this->NFaNrp_DNnniC('xs_extlinks_excl');
																													
																													if($_p2 = $grab_parameters['xs_ext_skip'])
																													
																													$_xs_extskip .= ($_xs_extskip ? '|' : '').$_p2;
																													
																													if($_xs_extskip)
																													
																													$_xs_extskip = "#$_xs_extskip#";
																													
																													}
																													
																													if(!$_xs_extskip || !preg_match($_xs_extskip, $a))
																													
																													{
																													
																													$_mx = intval($grab_parameters['xs_ext_max']);
																													
																													$qt7yx4DD7Kx157 = max(1, intval($grab_parameters['xs_maxref']));
																													
																													if(!$_mx || (count($this->VlATSmYmC7EQlOaRu)<$_mx)) {
																													
																													if(is_array($this->VlATSmYmC7EQlOaRu[$a])){
																													
																													if(count($this->VlATSmYmC7EQlOaRu[$a]) >= $qt7yx4DD7Kx157)
																													
																													{
																													
																													$this->VlATSmYmC7EQlOaRu[$a]['#more']++;
																													
																													}else
																													
																													{
																													
																													$this->VlATSmYmC7EQlOaRu[$a][] = $CjnDhqJxSIaLfkH;
																													
																													}
																													
																													}else
																													
																													$this->VlATSmYmC7EQlOaRu[$a] = [$CjnDhqJxSIaLfkH];
																													
																													}
																													
																													}
																													
																													}
																													
																													}else {
																													
																													
																													if($q5mXhT0VAQKh0u<100)
																													
																													$this->Mp8_74X3QKt($a, [$this->uk1X1bxy5kVbdo19[$q5mXhT0VAQKh0u], $_xlc['extrs']]);
																													
																													}
																													
																													continue; // cont FOREACH llist
																													
																													}
																													
																													$CYrdjpIHAOWgcogb = $_xlc['extloc'] ? $a : substr($a,strlen($this->LGu93aFor));
																													
																													$CYrdjpIHAOWgcogb = str_replace(' ', '%20', $CYrdjpIHAOWgcogb);
																													
																													
																													if($us = $this->nNQauD8yqV($CYrdjpIHAOWgcogb))
																													
																													continue; // cont FOREACH llist
																													
																													if(strcmp($CYrdjpIHAOWgcogb, $this->gkc6cuOs53JHjwRAY6) == 0)
																													
																													continue; // cont FOREACH llist
																													
																													$gwTxmd2WqPraW = $this->urls_list_full[$CYrdjpIHAOWgcogb];
																													
																													$this->VTEALPCPBnuCYjF($CYrdjpIHAOWgcogb, $this->gkc6cuOs53JHjwRAY6, $gwTxmd2WqPraW);
																													
																													if($gwTxmd2WqPraW)
																													
																													continue; // cont FOREACH llist
																													
																													if(!$this->VL35Keydv0RV[$CYrdjpIHAOWgcogb]++)
																													
																													Gpa9Bjai2UMV7SSv("<u>[[[acut] $CYrdjpIHAOWgcogb ]]]</u><br>\n",2);
																													
																													$n5KAwYyqy['curpage_outlinks'][$CYrdjpIHAOWgcogb]++;
																													
																													$nt++;
																													
																													}
																													
																													unset($Os0X_tRh9d9UY);
																													
																													
																													} // if(!$MuwACJTKYrI && $KSrdn3wZlYF)
																													
																													
																													} // if(!$f && !$f2)
																													
																													
																													
																													
																													
																													
																													
																													$this->K9akDNrFty1 = count($this->VL35Keydv0RV);
																													
																													if(!$f){
																													
																													
																													if($f = $f || !$this->vH5384QiQe6('xs_incl_only', $this->N3S6KHWOVBv2qC21A($this->gkc6cuOs53JHjwRAY6), true))
																													
																													$iAy4Xiz6k2fd = 'include-only';
																													
																													}
																													
																													if($_fex['f3']) {
																													
																													$f = true;
																													
																													
																													}
																													
																													if(!$f)
																													
																													if(uYtRST7eOVyiC('xs_robotstxt'))
																													
																													{
																													
																													if(preg_match('#<meta[^>]*name=[\'"]robots[\'"][^>]*>#is',$cn,$_cm))
																													
																													$f = preg_match('#noindex#is',$_cm[0]);
																													
																													if($f){
																													
																													if(strstr($ua9tyorFugytr['content'], 'Incapsula'))
																													
																													$iAy4Xiz6k2fd = 'incapsula-block';
																													
																													else
																													
																													$iAy4Xiz6k2fd = 'robots-meta';
																													
																													}else {
																													
																													if(($_rh=$ua9tyorFugytr['headers']['x-robots-tag'])
																													
																													&& ($f = preg_match('#noindex#is',$_rh))) {
																													
																													$iAy4Xiz6k2fd = 'robots-http-header';
																													
																													}
																													
																													}
																													
																													}
																													
																													$_smbase_link = preg_replace('#//+$#','/',
																													
																													preg_replace('#^([^/\:\?]/)/+#','\\1',
																													
																													(preg_match('#^\w+://#',$this->gkc6cuOs53JHjwRAY6) ? $this->gkc6cuOs53JHjwRAY6 : $this->LGu93aFor . $this->gkc6cuOs53JHjwRAY6)
																													
																													));
																													
																													if(!$n5KAwYyqy['cached'])
																													
																													{
																													
																													
																													$riHsxx1tgqk4ZFis1Nx = array(
																													
																													
																													'link' => $_smbase_link,
																													
																													'pginfo'  => $n5KAwYyqy
																													
																													);
																													
																													}
																													
																													if(!$f && !$iAy4Xiz6k2fd)
																													
																													{
																													
																													
																													if(!$n5KAwYyqy['cached']) {
																													
																													
																													$qtsaB5Y_pzFMf = 1024;
																													
																													if($grab_parameters['xs_makehtml']||$grab_parameters['xs_makeror']||$grab_parameters['xs_rssinfo']||$grab_parameters['xs_newsinfo'])
																													
																													{
																													
																													preg_match('#<title[^>]*?>([^<]*?)</title>#is', $ua9tyorFugytr['content'], $b3whEmcISMNpXBnzf2M);
																													
																													$riHsxx1tgqk4ZFis1Nx['t'] = substr(trim(strip_tags($b3whEmcISMNpXBnzf2M[1])),0,$qtsaB5Y_pzFMf);
																													
																													}
																													
																													if($grab_parameters['xs_metadesc']||$grab_parameters['xs_videoinfo'])
																													
																													{
																													
																													if(!preg_match('#<meta\s[^>]*(?:http-equiv|name)\s*=\s*"?description[^>]*content\s*=\s*["]?([^>\"]*)#is', $cn, $jlAh3iEpnzDfDc0QJdc))
																													
																													preg_match('#<meta[^>]*content\s*=\s*["]?([^>\"]*)[^>]*?(?:http-equiv|name)\s*=\s*"?description#is', $cn, $jlAh3iEpnzDfDc0QJdc);
																													
																													if($jlAh3iEpnzDfDc0QJdc[1])
																													
																													$riHsxx1tgqk4ZFis1Nx['d'] = substr(trim($jlAh3iEpnzDfDc0QJdc[1]),0,$qtsaB5Y_pzFMf);
																													
																													}
																													
																													if($grab_parameters['xs_makeror']||$grab_parameters['xs_autopriority'])
																													
																													$riHsxx1tgqk4ZFis1Nx['o'] = max(0,$this->links_level);
																													
																													if($y4x8WG0XW0x)
																													
																													$riHsxx1tgqk4ZFis1Nx['p'] = $y4x8WG0XW0x;
																													
																													if(preg_match('#<meta\s[^>]*(?:http-equiv|name)\s*=\s*"?(?:last-modified|dc\.modified|revised)[^>]*content\s*=\s*["]?([^>\"]*)#is', $cn, $jlAh3iEpnzDfDc0QJdc)){
																													
																													$riHsxx1tgqk4ZFis1Nx['clm'] = str_replace('@',' ',$jlAh3iEpnzDfDc0QJdc[1]);
																													
																													}
																													
																													if(preg_match('#<meta\s[^>]*(?:http-equiv|name)\s*=\s*"?priority[^>]*content\s*=\s*["]?([\d\.]+)#is', $cn, $jlAh3iEpnzDfDc0QJdc)){
																													
																													$riHsxx1tgqk4ZFis1Nx['p'] = $jlAh3iEpnzDfDc0QJdc[1];
																													
																													}
																													
																													if(preg_match('#<meta\s[^>]*(?:http-equiv|name)\s*=\s*"?changefreq[^>]*content\s*=\s*["]?([^>\"]*)#is', $cn, $jlAh3iEpnzDfDc0QJdc)){
																													
																													$riHsxx1tgqk4ZFis1Nx['f'] = $jlAh3iEpnzDfDc0QJdc[1];
																													
																													}else
																													
																													if(preg_match('#<meta\s[^>]*(?:http-equiv|name)\s*=\s*"?revisit-after[^>]*content\s*=\s*["]?([^>\"]*)#is', $cn, $jlAh3iEpnzDfDc0QJdc)){
																													
																													if(preg_match('#(\d+)\s*hour#',$jlAh3iEpnzDfDc0QJdc[1])){
																													
																													$riHsxx1tgqk4ZFis1Nx['f'] = 'hourly';
																													
																													}
																													
																													if(preg_match('#(\d+)\s*month#',$jlAh3iEpnzDfDc0QJdc[1])){
																													
																													$riHsxx1tgqk4ZFis1Nx['f'] = 'monthly';
																													
																													}
																													
																													if(preg_match('#(\d+)\s*day#',$jlAh3iEpnzDfDc0QJdc[1], $jlAh3iEpnzDfDc0QJdc)){
																													
																													$d = $jlAh3iEpnzDfDc0QJdc[1]+0;
																													
																													if($d<4)$riHsxx1tgqk4ZFis1Nx['f'] = 'daily';
																													
																													else
																													
																													if($d<22)$riHsxx1tgqk4ZFis1Nx['f'] = 'weekly';
																													
																													else
																													
																													$riHsxx1tgqk4ZFis1Nx['f'] = 'monthly';
																													
																													}
																													
																													}
																													
																													
																													if(preg_match('#'.$aBNjh41fLx.'#',$this->N3S6KHWOVBv2qC21A($this->gkc6cuOs53JHjwRAY6),$b8OGXRH4Q1QjbXd))
																													
																													{
																													
																													
																													for($_i=0;$_i<count($b8OGXRH4Q1QjbXd);$_i++)
																													
																													{
																													
																													if($b8OGXRH4Q1QjbXd[$_i+1])
																													
																													break; // break FOR
																													
																													}
																													
																													if($tagh20LfYEFTz[$_i]) {
																													
																													if(!$riHsxx1tgqk4ZFis1Nx['clm'])
																													
																													$riHsxx1tgqk4ZFis1Nx['clm'] = $tagh20LfYEFTz[$_i]['lm'];
																													
																													if(!$riHsxx1tgqk4ZFis1Nx['f'])
																													
																													$riHsxx1tgqk4ZFis1Nx['f'] = $tagh20LfYEFTz[$_i]['f'];
																													
																													$riHsxx1tgqk4ZFis1Nx['p'] = $tagh20LfYEFTz[$_i]['p'];
																													
																													}
																													
																													}
																													
																													$xz = 'img';
																													
																													
																													
																													$_maxi = $grab_parameters['xs_img_maxtot'];
																													
																													$_maxi_tot = $_maxi ? $_maxi : $this->fdlKwoX4HgiIlRtTjC * ($this->H7dpHAe1ZxqW2d4_oS ? 100 : 20);
																													
																													if(!$_maxi_tot || ($this->addedcnt['i']<$_maxi_tot))
																													
																													if($grab_parameters['xs_imginfo'])
																													
																													{
																													
																													$_imgext = '(?:jpg|png|gif|jpeg|bmp)';
																													
																													$_imgattr = '(?:src|data-(?:[\w\-]*lazy[\w\-]*|image|thumbnail|original))(?:set)?\s*=\s*|image\:\s*url\s*\(\s*';
																													
																													$_imgleftmatch = '(?:'.$_imgattr.')';
																													
																													$_imgrightmatch = '("([^">]+)|\'([^\'>]+)|([^\s\"\\\\>\\)]+))';
																													
																													preg_match_all('#<(?:(?:amp-)?img|div)[^>]*?'.$_imgleftmatch.$_imgrightmatch.'(.*?>)#is', $cn, $X45y79QpUc, PREG_SET_ORDER);
																													
																													 
																													
																													preg_match_all('#<a[^>]*\shref\s*=\s*[\'"]?([^>\'" ]*?\.'.$_imgext.')([\'" ][^>]*?>|>)#is', $cn, $Broh86XfLy0PO60Vd, PREG_SET_ORDER);
																													
																													$vm2ZWXPDO = array();
																													
																													
																													$ai = $ae = $wlu6XgnneM8rai = array();
																													
																													if($_cusvsearch = uYtRST7eOVyiC('xs_custom_lookup_image')){
																													
																													preg_match_all('#'.$_cusvsearch.'#is', $cn,
																													
																													$wlu6XgnneM8rai, PREG_SET_ORDER);
																													
																													
																													foreach($wlu6XgnneM8rai as $_aic=>$im)
																													
																													{
																													
																													if(strstr($im[1], '\\/'))
																													
																													$wlu6XgnneM8rai[$_aic][1] = stripslashes($im[1]);
																													
																													}
																													
																													}
																													
																													$X45y79QpUc = array_merge($X45y79QpUc, $Broh86XfLy0PO60Vd, $vm2ZWXPDO, $wlu6XgnneM8rai);
																													
																													$_maxi = $grab_parameters['xs_img_maxperpage'];
																													
																													if(!$_maxi)$_maxi = 1000;
																													
																													if($ua9tyorFugytr['inpdata'] && ($_dimg = $ua9tyorFugytr['inpdata']['img'])){
																													
																													foreach($_dimg as $im)
																													
																													{
																													
																													$X45y79QpUc[] = array('', $im['url']);
																													
																													}
																													
																													}
																													
																													foreach($X45y79QpUc as $im)
																													
																													{
																													
																													$_il = array($im[1]);
																													
																													if(strstr($im[0],'srcset')){
																													
																													if(preg_match('#[\s|-]srcset\s*=\s*[\'\"](.*?)[\'\"]#is', $im[0], $ueEBg5Zm23iPQN6cc8))
																													
																													if(!strstr($ueEBg5Zm23iPQN6cc8[1], 'data:')){
																													
																													$_il2 = preg_split('#(\s\s*\d+.(\s*\d+.)?(\s*,\s*|$))#is', $ueEBg5Zm23iPQN6cc8[1]);
																													
																													if(count($_il2) > 1)$_il = $_il2;
																													
																													}
																													
																													}else
																													
																													if(preg_match_all('#'.$_imgleftmatch.$_imgrightmatch.'#is', $im[0], $OYg8bQVhEVI9gnPOI, PREG_SET_ORDER))
																													
																													{
																													
																													$_il = array();
																													
																													foreach($OYg8bQVhEVI9gnPOI as $_im) {
																													
																													$_il[] = $_im[1];
																													
																													}
																													
																													}
																													
																													
																													foreach($_il as $_ili)
																													
																													if($_ili)
																													
																													{
																													
																													$_im1 = trim(preg_replace('#^[\'\"]+#','',$_ili));
																													
																													
																													if(strstr($_im1, 'data:'))
																													
																													continue;
																													
																													if(preg_match('#\,[^\.]*$#',$_im1)) // incorrect srcset format
																													
																													continue;
																													
																													
																													if(strlen($_im1) > 2048) continue; // cont FOREACH
																													
																													$_xlc = $this->i4YBy_a0gx($_im1, '','xs_img_allow_domains');
																													
																													$q5mXhT0VAQKh0u = $_xlc['isext'];
																													
																													if($q5mXhT0VAQKh0u){
																													
																													$this->o62A4fSUkV($this->gkc6cuOs53JHjwRAY6, $_im1,
																													
																													[$this->uk1X1bxy5kVbdo19[$q5mXhT0VAQKh0u], $_xlc['extrs']]
																													
																													);
																													
																													continue; // cont FOREACH
																													
																													}
																													
																													if($grab_parameters['xs_imgincmask'])
																													
																													if(!$this->vH5384QiQe6('xs_imgincmask', $_im1, true)){
																													
																													$this->o62A4fSUkV($this->gkc6cuOs53JHjwRAY6, $_im1,'img-incmas');
																													
																													continue; // cont FOREACH
																													
																													}
																													
																													preg_match('#(?:title|alt)\s*=\s*"(.*?)"#i', $im[0], $tm);
																													
																													$t = trim($tm[1]);
																													
																													$ai[] = array($_im1, $t);
																													
																													}
																													
																													}
																													
																													if($ai){
																													
																													$riHsxx1tgqk4ZFis1Nx['i'] = $ai;
																													
																													}
																													
																													}
																													
																													$xz = '/img';
																													
																													
																													
																													if($grab_parameters['xs_hreflang']){
																													
																													if(
																													
																													preg_match_all('#<link[^>]*rel\s*=\s*"alternate"[^>]*>#is', $cn, $yA_NATpQcCK94, PREG_SET_ORDER)
																													
																													){
																													
																													$_la = array();
																													
																													foreach($yA_NATpQcCK94 as $_alt1){
																													
																													if(preg_match('#\s(hreflang|media)\s*=\s*"([^">]*?)"[^>]*>#is', $_alt1[0], $_alt)
																													
																													&& preg_match('#\s*href\s*=\s*[\'"]([^>]*?)[\'"]#is', $_alt1[0], $_hm)
																													
																													) {
																													
																													$this->i4YBy_a0gx($_hm[1]);
																													
																													$_la[] = array(
																													
																													't' => $_alt[1],
																													
																													'l' => $_alt[2],
																													
																													'u' => $_hm[1]
																													
																													);
																													
																													}
																													
																													}
																													
																													$riHsxx1tgqk4ZFis1Nx['hl'] = $_la;
																													
																													}
																													
																													}
																													
																													if($grab_parameters['xs_lastmod_notparsed'] && $f2)
																													
																													{
																													
																													$ua9tyorFugytr = $Rgqo7Yox5Mydire->fetch($CjnDhqJxSIaLfkH, 0, 1, false, "", array('req'=>'HEAD'));
																													
																													}
																													
																													if(!$riHsxx1tgqk4ZFis1Nx['lm'] && isset($ua9tyorFugytr['headers']['last-modified'])){
																													
																													$riHsxx1tgqk4ZFis1Nx['lm'] = $ua9tyorFugytr['headers']['last-modified'];
																													
																													}
																													
																													
																													}
																													
																													if(!$riHsxx1tgqk4ZFis1Nx['lm'] &&
																													
																													preg_match('#<meta[^>]*?(?:name|property)\s*=\s*\"(?:last-|.*\:)modified(?:_time)?\".*?content\s*=\s*"?([^">]*)"#is',$ua9tyorFugytr['content'], $QAADhI8z4NAQgyTYn))
																													
																													$riHsxx1tgqk4ZFis1Nx['lm'] = $QAADhI8z4NAQgyTYn[1];
																													
																													if(!$riHsxx1tgqk4ZFis1Nx['lm'] && $YJ1Dp5HqfXcXh12lbqb){
																													
																													foreach($YJ1Dp5HqfXcXh12lbqb as $d7fJoIZXHsui9P4G9S) {
																													
																													foreach($d7fJoIZXHsui9P4G9S as $_k=>$EV4uwQ2OzuuHDj)
																													
																													if(is_array($EV4uwQ2OzuuHDj) && ($_lm = $EV4uwQ2OzuuHDj['datemodified']))
																													
																													{
																													
																													$riHsxx1tgqk4ZFis1Nx['lm'] = $_lm;
																													
																													}
																													
																													}
																													
																													}
																													
																													
																													
																													
																													$xz = 'img';
																													
																													if($_ev = $riHsxx1tgqk4ZFis1Nx['i']){
																													
																													$ai = array();
																													
																													foreach($_ev as $im)
																													
																													{
																													
																													$_im1 = $im[0];
																													
																													$ibpFRODl7xrVn = $this->xKSjC9fm7Ct.substr($_im1,strlen($this->LGu93aFor));
																													
																													if($q5mXhT0VAQKh0u != 2)
																													
																													{
																													
																													if($this->RUaplgNGInZve($ibpFRODl7xrVn)){
																													
																													$this->o62A4fSUkV($this->gkc6cuOs53JHjwRAY6, $_im1,'robots-txt');
																													
																													continue; // cont FOREACH
																													
																													}
																													
																													}
																													
																													
																													if(!$this->U9E6sLwDkXCLtybu('excmask',$ibpFRODl7xrVn))
																													
																													{
																													
																													$t = $im[1];
																													
																													$_ihash = md5($_im1. (uYtRST7eOVyiC('xs_img_hashtitle',false) ? '-'.$t : ''));
																													
																													if(!$this->tVaBDPWljvwqY[$_ihash]++)
																													
																													{
																													
																													$ai[] = array($_im1, $t);
																													
																													}
																													
																													}
																													
																													if(count($ai) >= $_maxi)break; // break FOREACH
																													
																													}
																													
																													$riHsxx1tgqk4ZFis1Nx['i'] = $ai;
																													
																													$this->addedcnt['i'] += count($ai);
																													
																													Gpa9Bjai2UMV7SSv("<br>\n{ images added: ".count($ai)." }<br>\n",2);
																													
																													}
																													
																													$xz = '/img';
																													
																													
																													
																													
																													Gpa9Bjai2UMV7SSv("\n((include ".$riHsxx1tgqk4ZFis1Nx['link']."))<br />\n");
																													
																													$CMORy_I_zuO = true;
																													
																													$o6rPLhhw0Dgo0gjA = $riHsxx1tgqk4ZFis1Nx;
																													
																													if($o6rPLhhw0Dgo0gjA['pginfo']){
																													
																													unset($o6rPLhhw0Dgo0gjA['pginfo']['curpage_outlinks']);
																													
																													}
																													
																													if($grab_parameters['xs_memsave'])
																													
																													{
																													
																													$ZBOpkqThEaDwuvP = BRaaXjj8dMSPUCXL($this->gkc6cuOs53JHjwRAY6);
																													
																													bXQjcHjhM5WzanGWky($ZBOpkqThEaDwuvP, $o6rPLhhw0Dgo0gjA);
																													
																													$this->JcPjyNwPYF[] = $ZBOpkqThEaDwuvP;
																													
																													}
																													
																													else $this->JcPjyNwPYF[] = $this->eVq4rYPNrn8($o6rPLhhw0Dgo0gjA);
																													
																													$this->mWZvXOgbL2muF5++;
																													
																													
																													
																													}
																													
																													
																													$_icnt = $riHsxx1tgqk4ZFis1Nx['i'] ? count($riHsxx1tgqk4ZFis1Nx['i']) : 0;
																													
																													$_vcnt = $riHsxx1tgqk4ZFis1Nx['v'] ? count($riHsxx1tgqk4ZFis1Nx['v']) : 0;
																													
																													if($grab_parameters['xs_prev_sm_base']
																													
																													&& $this->basecachemask &&
																													
																													preg_match('#('.$this->basecachemask.')#',$this->gkc6cuOs53JHjwRAY6))
																													
																													{
																													
																													if(!$this->sm_base[$this->gkc6cuOs53JHjwRAY6]){
																													
																													Gpa9Bjai2UMV7SSv("<br>\n >>> / added to cache: ".$this->gkc6cuOs53JHjwRAY6." / >>><br>\n");
																													
																													$this->addedcnt['smbsessnew']++;
																													
																													$this->addedcnt['smbaccunew']++;
																													
																													}
																													
																													$this->sm_base[$this->gkc6cuOs53JHjwRAY6] = $riHsxx1tgqk4ZFis1Nx;
																													
																													$this->addedcnt['smbsess']++;
																													
																													$this->addedcnt['smbsess_i']+=$_icnt;
																													
																													$this->addedcnt['smbsess_v']+=$_vcnt;
																													
																													$this->addedcnt['smbaccu']++;
																													
																													$this->addedcnt['smbaccu_i']+=$_icnt;
																													
																													$this->addedcnt['smbaccu_v']+=$_vcnt;
																													
																													}
																													
																													$this->addedcnt['smbstored'] = count($this->sm_base);
																													
																													}while(false);// END OF ZERO WHILE
																													
																													Qfd6uMJrMUCoVpW3uV('zero-while2', true);
																													
																													Qfd6uMJrMUCoVpW3uV('post-zero');
																													
																													
																													
																													
																													if($this->num_urls_processed_in_current_batch>=$this->wBD3MhpjtBO8tqmNhcW)
																													
																													{
																													
																													$this->links_level++;
																													
																													Gpa9Bjai2UMV7SSv("\n<br>NEXT LEVEL:$this->links_level ($this->num_urls_processed_in_current_batch>=$this->wBD3MhpjtBO8tqmNhcW)<br />\n");
																													
																													$this->D_92CNRcLCBbAvv();
																													
																													
																													}
																													
																													if(!$CMORy_I_zuO){
																													
																													
																													$this->Mp8_74X3QKt($this->gkc6cuOs53JHjwRAY6, $iAy4Xiz6k2fd, $dMnjtj7trqzv2cd);
																													
																													}
																													
																													$this->Lr95wALjvGm++;
																													
																													Csw6DNRGy();
																													
																													$ZghyJyXXog8 = ($this->mWZvXOgbL2muF5>=$this->fdlKwoX4HgiIlRtTjC) || ($this->num_urls_processed_in_current_batch >= $this->wBD3MhpjtBO8tqmNhcW);
																													
																													if(!$this->UCZR3jLESp3_U) {
																													
																													$this->UCZR3jLESp3_U = s0wbaNiWsfBVT2pAbh(true);
																													
																													}
																													
																													if($_mint = $_REQUEST['maninterrupt']){
																													
																													if(($this->Lr95wALjvGm % $_mint)==0)
																													
																													$this->UCZR3jLESp3_U = $_REQUEST['codeinterrupt'] ? $_REQUEST['codeinterrupt'] : 'man';
																													
																													}
																													
																													
																													Qfd6uMJrMUCoVpW3uV('post-zero', true);
																													
																													Qfd6uMJrMUCoVpW3uV('post-save');
																													
																													$progpar = $this->m820vHOHqXjLbour0(false, $ZghyJyXXog8||$this->UCZR3jLESp3_U);
																													
																													if(preg_match('#delay-(\d+)#', $this->UCZR3jLESp3_U, $_intm) && ($_intl = $_intm[1])){
																													
																													Gpa9Bjai2UMV7SSv("[ Detected Delay signal, sleeping for ".$_intl."s ]<br />\n");
																													
																													$_sls = 5;
																													
																													while($_intl>0) {
																													
																													$this->sHrx8IoVOZ8R('Paused, '.$_intl.'sec left');
																													
																													Gpa9Bjai2UMV7SSv(".");
																													
																													sleep($_sls);
																													
																													$_intl -= $_sls;
																													
																													}
																													
																													s0wbaNiWsfBVT2pAbh(true);
																													
																													$this->UCZR3jLESp3_U = '';
																													
																													}
																													
																													$this->VA1LHa1ylRh = false;
																													
																													if($grab_parameters['xs_exec_time'] &&
																													
																													((time()-$CXZgCKQbL_L) > $grab_parameters['xs_exec_time']) ){
																													
																													$this->UCZR3jLESp3_U = 'Time limit exceeded - '.($grab_parameters['xs_exec_time']).' - '.(time()-$CXZgCKQbL_L);
																													
																													$this->VA1LHa1ylRh = true;
																													
																													}
																													
																													if($grab_parameters['xs_savestate_time']>0 &&
																													
																													(
																													
																													($this->ctime-$I2wjdAAsNKblNhs3T>$grab_parameters['xs_savestate_time'])
																													
																													|| $ZghyJyXXog8
																													
																													|| $this->UCZR3jLESp3_U
																													
																													)
																													
																													)
																													
																													{
																													
																													$NwXU_11EBncQ0U2WO2y = microtime(true);
																													
																													$I2wjdAAsNKblNhs3T = $this->ctime;
																													
																													$this->sHrx8IoVOZ8R('Saving session state log');
																													
																													$TYHRDZiWCRbVqzBb6 = array();
																													
																													Gpa9Bjai2UMV7SSv("(saving dump)<br />\n");
																													
																													$Yz_MVNcyiaZX = array(
																													
																													'num_urls_processed_in_current_batch',
																													
																													'urls_list_current_batch','urls_list_next_batch','num_urls_current_batch',
																													
																													'ref_urls_next_batch','ref_urls_current_batch','ref_links_list',
																													
																													'urls_list_full','num_urls_completed',
																													
																													'urls_404',
																													
																													'nt','tsize','num_urls_processed','links_level','ctime', 'urls_list_ext','fetch_no',
																													
																													'starttime', 'retrno', 'nettime', 'urls_list_skipped',
																													
																													'hashlist_img', 'hashlist_vid', 'progpar', 'runstate', 'sm_sessions',
																													
																													'addedcnt',              'crawl_stats',
																													
																													'img_list_skipped'
																													
																													);
																													
																													foreach($Yz_MVNcyiaZX as $k){
																													
																													$TYHRDZiWCRbVqzBb6[$k] = isset($this->$k) ? $this->$k : $$k;
																													
																													}
																													
																													$TYHRDZiWCRbVqzBb6['time']=time();
																													
																													$gki63aqDKBEeylgy8 = LvwoBy4yxyXbghxY($TYHRDZiWCRbVqzBb6);
																													
																													o_V2IjGO4FbBy(EZDFQmUtjVbpx9NW,$gki63aqDKBEeylgy8,ee6DE3zheBrz3N,true);
																													
																													unset($TYHRDZiWCRbVqzBb6);
																													
																													unset($gki63aqDKBEeylgy8);
																													
																													Gpa9Bjai2UMV7SSv("(restoring urls completed list)<br />\n");
																													
																													$this->NrcHJzHWg8nzjl();
																													
																													$this->fb23nrOMWYh = array_merge(
																													
																													$this->fb23nrOMWYh, $this->JcPjyNwPYF);
																													
																													Gpa9Bjai2UMV7SSv("(saving urls completed list)<br />\n");
																													
																													o_V2IjGO4FbBy(WM4in_T2Mrf, LvwoBy4yxyXbghxY(
																													
																													array(
																													
																													'full_uc' => $this->fb23nrOMWYh,
																													
																													)), ee6DE3zheBrz3N,true);
																													
																													$this->JcPjyNwPYF = $this->fb23nrOMWYh = array();
																													
																													
																													Gpa9Bjai2UMV7SSv("(saving sm base)<br />\n");
																													
																													$this->H7tBTJDfOm();
																													
																													$this->addedcnt['dscnt']++;
																													
																													$this->addedcnt['dstime']+=(microtime(true)-$NwXU_11EBncQ0U2WO2y);
																													
																													if($this->UCZR3jLESp3_U == 'memprofile'){
																													
																													Gpa9Bjai2UMV7SSv("\n\n<br><br>Storing memory profiler details. Exit.\n");
																													
																													$_memprof  = 'local';
																													
																													include Swpw9A1Vzx69.'extra_memprofile.inc-dbg.php';
																													
																													$_memprof  = 'this';
																													
																													include Swpw9A1Vzx69.'extra_memprofile.inc-dbg.php';
																													
																													$_memprof  = 'global';
																													
																													include Swpw9A1Vzx69.'extra_memprofile.inc-dbg.php';
																													
																													$JVX6IydwlUlG2 = ee6DE3zheBrz3N.'memprof.log';
																													
																													if(file_exists($JVX6IydwlUlG2)) {
																													
																													$_fmt = filemtime($JVX6IydwlUlG2);
																													
																													rename($JVX6IydwlUlG2, ee6DE3zheBrz3N.'memprof-'.
																													
																													date('Y-m-d',$_fmt).'-'.$_fmt.'.log');
																													
																													}
																													
																													file_put_contents($JVX6IydwlUlG2,$_memdesc);
																													
																													exit;
																													
																													}
																													
																													}
																													
																													if($grab_parameters['xs_delay_req'] && $grab_parameters['xs_delay_ms'] &&
																													
																													(($O4kU9hKnV6-$wz8QwzYhiSeh1LS)==$grab_parameters['xs_delay_req']))
																													
																													{
																													
																													$wz8QwzYhiSeh1LS = $O4kU9hKnV6;
																													
																													sleep(intval($grab_parameters['xs_delay_ms']));
																													
																													}
																													
																													Qfd6uMJrMUCoVpW3uV('post-save', true);
																													
																													}while(!$ZghyJyXXog8 && !$this->UCZR3jLESp3_U);
																													
																													 
																													
																													Gpa9Bjai2UMV7SSv("\n\n<br><br>Crawling completed<br>\n");
																													
																													$this->sHrx8IoVOZ8R('Exit: ['.($ZghyJyXXog8?'F':'').' '.($this->UCZR3jLESp3_U?'I':'').']');
																													
																													if($_GET['ddbgexit']){
																													
																													echo '<hr><hr><h2>Dbg exit</h2>';
																													
																													echo $Rgqo7Yox5Mydire->JJjzIRLhzb6m.' / '.$Rgqo7Yox5Mydire->nettime.'<hr>';
																													
																													echo EmYGhMsQNtkUAjX().'<hr>';
																													
																													exit;
																													
																													}
																													
																													return array(
																													
																													'u404'=>$this->urls_404,
																													
																													'ref_links_list'=>$this->ref_links_list,
																													
																													'starttime'=>$starttime,
																													
																													'topmu' => $kvzPJVC8WZaEAjzv2,
																													
																													'ctime'=>$this->ctime,
																													
																													'tsize'=>$this->tsize,
																													
																													'retrno' => $retrno,
																													
																													'nettime' => $this->nettime,
																													
																													'errmsg'=>'',
																													
																													'initurl'=>$this->CKkufD8Jt,
																													
																													'initdir'=>$this->LGu93aFor,
																													
																													'ucount'=>$this->mWZvXOgbL2muF5,
																													
																													'crcount'=>$this->Lr95wALjvGm,
																													
																													'fetch_no'=>$this->fetch_no,
																													
																													'time'=>time(),
																													
																													'params'=>$this->NdDirA6nDitD7,
																													
																													'sm_sessions'=>$this->sm_sessions,
																													
																													'interrupt'=>$this->UCZR3jLESp3_U,
																													
																													'runstate' => $this->runstate,
																													
																													'crawl_stats' => $this->crawl_stats,
																													
																													'progpar' => $this->progpar,
																													
																													'urls_ext'=>$this->VlATSmYmC7EQlOaRu,
																													
																													'urls_list_skipped' => $this->urls_list_skipped,
																													
																													'img_list_skipped' => $this->PcrmU5d0puI6Fy,
																													
																													'max_reached' => $this->mWZvXOgbL2muF5>=$this->fdlKwoX4HgiIlRtTjC
																													
																													);
																													
																													}
																													
																													}
																													
																													$th9r4riT2 = new SiteCrawler();
																													
																													function w81RXoNzadssEV06TGW(){
																													
																													@WSvkWWFpjZnripMo(ee6DE3zheBrz3N.HIlbAcY4dtv);
																													
																													if(@file_exists(ee6DE3zheBrz3N.rwrAhkTe5AehA))
																													
																													@rename(ee6DE3zheBrz3N.rwrAhkTe5AehA,ee6DE3zheBrz3N.HIlbAcY4dtv);
																													
																													}
																													
																													



































































































